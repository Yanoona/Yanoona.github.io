<html>
<head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>CentOS 7å®‰è£…å’Œå¸è½½MySql | å§¿åŠ¿ç¾å¦‚ç”»( *ãƒ»Ï‰ãƒ»)âœ„â•°ã²â•¯</title>
<meta name="description" content="å¤§çˆ·ä¸è¿›æ¥çœ‹çœ‹å—ï¼Ÿè¿™é‡Œæœ‰å¥½åº·çš„å“¦~~~" />
<link rel="shortcut icon" href="https://Yanoona.github.io/favicon.ico">
<link rel="stylesheet" href="https://Yanoona.github.io/styles/main.css">

<script src="https://Yanoona.github.io/media/js/jquery.min.js"></script>
<script src="https://Yanoona.github.io/media/js/masonry.pkgd.min.js"></script>
<script src="https://Yanoona.github.io/media/js/aos.js"></script>
<script src="https://Yanoona.github.io/media/js/pace.min.js"></script>
<script src="https://Yanoona.github.io/media/js/view-image.min.js"></script>
<script src="https://Yanoona.github.io/media/js/functions.js"></script>
    <script src="https://Yanoona.github.io/media/js/waterfall.min.js"></script>
    <script src="https://Yanoona.github.io/media/js/prism.min.js"></script>
</head>
<body>
<header id="header" class="grid-container">
    <!-- start: .menu-wrapper -->
    <div class="menu-mobile">
        <i class="fa fa-reorder"></i>
    </div>
    <div class="menu-wrapper">
        <div class="">
            <nav class="main-nav " >
                <ul id="menu-header" class="menu gradient-effect">
                    
                        <li class="">
                            <a href="https://Yanoona.github.io" class="menu">
                                é¦–é¡µ
                            </a>
                        </li>
                    
                        <li class="">
                            <a href="https://Yanoona.github.io/archives" class="menu">
                                å½’æ¡£
                            </a>
                        </li>
                    
                        <li class="">
                            <a href="https://Yanoona.github.io/tags" class="menu">
                                æ ‡ç­¾
                            </a>
                        </li>
                    
                        <li class="">
                            <a href="https://github.com/Yanoona" class="menu">
                                å…³äº
                            </a>
                        </li>
                    
                </ul>
            </nav>
            <!-- end: .main-nav -->
            <div class="clear"></div>
            <div class="border hide-on-tablet hide-on-mobile"></div>
        </div>
        <div class="clear"></div>
    </div>
    <!-- end: .menu-wrapper -->
    <div class="clear"></div>
</header>

<main id="single" class="main grid-container fullcover no-sidebar aos-init aos-animate" data-aos="fade">

    <div class="center content">
        <div class="featured-image cover"
             style="background-image: url('https://Yanoona.github.io/post-images/TeSMMvZK8.jpg');">
            <div class="meta top">
                <time class="meta-info" style="float:left;" datetime="2020-02-19"><i
                            class="fa fa-calendar"></i><span
                            class="lately">1 å¤©å‰</span></time>
            </div>
            <div class="info">
                <div class="tags ">
                    
                        <a href="https://Yanoona.github.io/mysql/" class="ctag ctag-0 ctag-mysql"
                           aria-label="">mysql</a>
                    
                        <a href="https://Yanoona.github.io/j_dWapwnj/" class="ctag ctag-1 ctag-j_dWapwnj"
                           aria-label="">CentOS 7</a>
                    
                </div>
                <h1 class="title ularge white bold">CentOS 7å®‰è£…å’Œå¸è½½MySql</h1>
            </div>
        </div>
    </div>

    <div class="epcl-page-wrapper">
        <div class="left-content grid-70 np-mobile">
            <article class="main-article post">
                <section class="post-content">
                    <div class="text">
                        <h2 id="æ¦‚è¿°">ğŸ˜€æ¦‚è¿°</h2>
<p>è®°å½•ä¸€æ¬¡CentOS7å®‰è£…Mysql5.7çš„æ­¥éª¤å’Œå¸è½½Mysqlçš„æ­¥éª¤ã€‚</p>
<h2 id="ç¯å¢ƒè¯´æ˜">ğŸ˜ƒç¯å¢ƒè¯´æ˜</h2>
<p>æœºå™¨ç³»ç»Ÿç‰ˆæœ¬ï¼šCentOS7.9<br>
æ‰€å®‰è£…Mysqlç‰ˆæœ¬ï¼šMySql5.7</p>
<!-- more -->
<h2 id="å‡†å¤‡å®‰è£…">ğŸ˜„å‡†å¤‡å®‰è£…</h2>
<p>ç¡®ä¿æœºå™¨ä¸Šå·²å®‰è£…<code>wget</code>,å¦‚æœæ²¡æœ‰å®‰è£…è¿‡å°±ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œå®‰è£…ã€‚</p>
<pre><code>yum -y install wget
</code></pre>
<h2 id="å¼€å§‹å®‰è£…">ğŸ˜å¼€å§‹å®‰è£…</h2>
<h3 id="è¿›å…¥å®˜ç½‘å¤åˆ¶yumæº">è¿›å…¥å®˜ç½‘å¤åˆ¶yumæº</h3>
<figure data-type="image" tabindex="1"><img src="https://Yanoona.github.io/post-images/1582081400516.png" alt="" loading="lazy"></figure>
<p>ç›´æ¥ç‚¹å¼€è¿™ä¸ªåœ°å€å¹¶é€‰æ‹©ç¬¬äºŒä¸ªï¼ˆ<strong>ç¬¬ä¸€ä¸ªé‡Œé¢æ²¡æœ‰MySql5.7ç‰ˆæœ¬çš„ä¸‹è½½</strong>ï¼‰âš¡ï¸ï¼š<a href="https://dev.mysql.com/downloads/repo/yum/">https://dev.mysql.com/downloads/repo/yum/</a>âš¡ï¸</p>
<p>ç‚¹è¿›å»ä¹‹åï¼Œå³å‡»è¶…é“¾æ¥æ–‡å­—<strong>No thanks, just start my download.</strong>ï¼Œå†ç‚¹å‡»<strong>å¤åˆ¶é“¾æ¥åœ°å€</strong>å³å¯ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br>
<img src="https://Yanoona.github.io/post-images/1582081448581.png" alt="" loading="lazy"></p>
<hr>
<h3 id="ä¸‹è½½å’Œå®‰è£…yumæº">ä¸‹è½½å’Œå®‰è£…yumæº</h3>
<p>åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œä¸‹è½½å‘½ä»¤ğŸ‘‡ï¼š</p>
<pre><code>wget https://dev.mysql.com/get/mysql80-community-release-el7-3.noarch.rpm
</code></pre>
<p>è¿è¡Œåç»§ç»­è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p>
<pre><code>rpm -ivh mysql80-community-release-el7-3.noarch.rpm
</code></pre>
<hr>
<h3 id="ä¿®æ”¹yumæºé»˜è®¤å®‰è£…çš„ç‰ˆæœ¬">ä¿®æ”¹yumæºé»˜è®¤å®‰è£…çš„ç‰ˆæœ¬</h3>
<p>ğŸ‘´è¿è¡ŒæŸ¥çœ‹å¯å®‰è£…çš„mysqlçš„å‘½ä»¤ï¼š</p>
<pre><code>yum repolist all| grep mysql
</code></pre>
<figure data-type="image" tabindex="2"><img src="https://Yanoona.github.io/post-images/1582081748024.png" alt="" loading="lazy"></figure>
<p>å¯ä»¥çœ‹å‡ºé»˜è®¤æ˜¯å¯ç”¨çš„mysql8.0ï¼Œ5.7æ˜¯å…³é—­çš„ã€‚</p>
<p>æ¥ç€è¿è¡Œä¿®æ”¹yumé…ç½®âš¡ï¸ï¼ˆenabled=1 æƒ³è¦å®‰è£…å“ªä¸ªç‰ˆæœ¬å°±åœ¨å“ªä¸ªç‰ˆæœ¬çš„åé¢æŠŠ0æ¢æˆ1ï¼Œå› ä¸ºé»˜è®¤æ˜¯æœ€æ–°ç‰ˆï¼Œæ‰€ä»¥éœ€è¦æŠŠæœ€æ–°ç‰ˆçš„1æ¢æˆ0ï¼Œ5.7çš„æ¢ä¸º1ï¼‰âš¡ï¸å‘½ä»¤ï¼š</p>
<pre><code>vim /etc/yum.repos.d/mysql-community.repo
</code></pre>
<figure data-type="image" tabindex="3"><img src="https://Yanoona.github.io/post-images/1582081761005.png" alt="" loading="lazy"></figure>
<p>ä¿®æ”¹å®Œæˆåå†è¿è¡Œä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹æ˜¯å¦å·²ç»ç”Ÿæ•ˆï¼š</p>
<pre><code>yum repolist all| grep mysql
</code></pre>
<figure data-type="image" tabindex="4"><img src="https://Yanoona.github.io/post-images/1582081772383.png" alt="" loading="lazy"></figure>
<p>å¯ä»¥çœ‹åˆ°é…ç½®æ–‡ä»¶å·²ç»ç”Ÿæ•ˆï¼Œæ¥ä¸‹æ¥ä½¿ç”¨yumå®‰è£…MySqlã€‚</p>
<hr>
<h3 id="ä½¿ç”¨yumå®‰è£…mysql">ä½¿ç”¨yumå®‰è£…MySql</h3>
<p>è¿è¡Œå®‰è£…å‘½ä»¤ğŸ‘‡ï¼š</p>
<pre><code>yum install -y mysql-community-server
</code></pre>
<figure data-type="image" tabindex="5"><img src="https://Yanoona.github.io/post-images/1582081783832.png" alt="" loading="lazy"></figure>
<p><strong>ç­‰å¾…å®‰è£…å®Œæˆå³å¯ï¼ğŸ‘€</strong></p>
<h2 id="mysqlé…ç½®">ğŸ˜†MySQLé…ç½®</h2>
<h3 id="åˆå§‹é…ç½®">åˆå§‹é…ç½®</h3>
<h4 id="å¯åŠ¨mysqlæœåŠ¡">ğŸ¤”å¯åŠ¨MySQLæœåŠ¡</h4>
<pre><code>#å¯åŠ¨
systemctl start mysqld
#æŸ¥çœ‹çŠ¶æ€
systemctl status mysqld
#è®¾ç½®å¼€æœºè‡ªå¯
systemctl enable mysqld
</code></pre>
<h4 id="æŸ¥çœ‹mysqlçš„åˆå§‹å¯†ç ">ğŸ‘€æŸ¥çœ‹MySQLçš„åˆå§‹å¯†ç </h4>
<blockquote>
<p>åˆå§‹å¯†ç åªæœ‰åœ¨ç¬¬ä¸€æ¬¡å®‰è£…æˆ–è€…å®Œå…¨å¸è½½åå®‰è£…æ‰ä¼šæœ‰ã€‚</p>
</blockquote>
<pre><code>grep 'password' /var/log/mysqld.log
</code></pre>
<figure data-type="image" tabindex="6"><img src="https://Yanoona.github.io/post-images/1582081794593.png" alt="" loading="lazy"></figure>
<p>å…¶ä¸­çš„ğŸ‘‰<code>.trj4redlL!</code>ğŸ‘ˆä¸ºåˆå§‹å¯†ç ï¼Œä½¿ç”¨å…¶ç™»å½•MySQLå³å¯ã€‚</p>
<h4 id="ä¿®æ”¹åˆå§‹å¯†ç ">ä¿®æ”¹åˆå§‹å¯†ç </h4>
<blockquote>
<p>æ³¨æ„ï¼šMySQL5.7é»˜è®¤å¯†ç ç­–ç•¥è¦æ±‚å¯†ç â­ï¸å¿…é¡»æ˜¯<strong>å¤§å°å†™å­—æ¯æ•°å­—ç‰¹æ®Šå­—æ¯</strong>çš„ç»„åˆâ­ï¸ï¼Œè‡³å°‘8ä½</p>
</blockquote>
<pre><code>#ä¿®æ”¹å¯†ç 
ALTER USER 'root'@'localhost' IDENTIFIED BY 'Root123@';
</code></pre>
<h4 id="è®¾ç½®ç®€å•å¯†ç ">è®¾ç½®ç®€å•å¯†ç </h4>
<p>ä¿®æ”¹MySQLå¯†ç ç­–ç•¥ï¼Œå¹¶è®¾ç½®ç®€å•å¯†ç è¿›è¡Œè®¿é—®ğŸ™ˆğŸ™ˆã€‚</p>
<pre><code>#æŸ¥çœ‹MySQLå¯†ç ç­–ç•¥
show variables like 'validate_password%';
#è®¾ç½®å…¨å±€éªŒè¯å¯†ç ç­–ç•¥
set global validate_password_policy=low;
#è®¾ç½®å…¨å±€éªŒè¯å¯†ç æ··åˆæƒ…å†µè®¡æ•°
set global validate_password_mixed_case_count=0;
#è®¾ç½®å…¨å±€éªŒè¯å¯†ç ç‰¹æ®Šçš„å­—ç¬¦è®¡æ•°
set global validate_password_special_char_count=0;
#è®¾ç½®å…¨é›†éªŒè¯å¯†ç é•¿åº¦
set global validate_password_length=4;
</code></pre>
<p>èµ‹äºˆç”¨æˆ·æƒé™ï¼ˆè®¾ç½®å¯è¿œç¨‹è®¿é—®ğŸ¤–ï¼‰ã€‚</p>
<pre><code>grant all privileges on *.* to 'root'@'%' identified by 'root' with grant option;
</code></pre>
<p>åˆ·æ–°æƒé™ğŸ™‰ã€‚</p>
<pre><code>flush privileges;
</code></pre>
<h4 id="è®¾ç½®å¯è¿œç¨‹è®¿é—®">è®¾ç½®å¯è¿œç¨‹è®¿é—®</h4>
<p>Mysqlé»˜è®¤ä¸å…è®¸è¿œç¨‹ç™»å½•ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™é‡Œè¦è®¾ç½®ä¸€ä¸‹ğŸŒˆï¼š</p>
<pre><code>grant all privileges on *.* to 'root'@'%' identified by 'Root123@' with grant option;
</code></pre>
<hr>
<h3 id="æ‹“å±•é…ç½®">æ‹“å±•é…ç½®</h3>
<h4 id="ä¿®æ”¹mysqlå­—ç¬¦é›†ä½¿å…¶æ”¯æŒä¸­æ–‡">ä¿®æ”¹MySQLå­—ç¬¦é›†ï¼Œä½¿å…¶æ”¯æŒä¸­æ–‡ğŸ‡¨ğŸ‡³</h4>
<pre><code>#æ˜¾ç¤ºå­—ç¬¦é›†å˜é‡
show variables like '%character%';
</code></pre>
<figure data-type="image" tabindex="7"><img src="https://Yanoona.github.io/post-images/1582081808778.png" alt="" loading="lazy"></figure>
<p>é€€å‡ºMySQLï¼Œç¼–è¾‘MySQLé…ç½®æ–‡ä»¶<strong>my.cnf</strong>ï¼Œå¹¶åœ¨æ–‡ä»¶ä¸­æ·»åŠ ğŸ‘‡ğŸ‘‡è¡Œã€‚æ–‡ä»¶è·¯å¾„åœ¨ï¼š<code>/etc/my.cnf</code>ã€‚</p>
<pre><code>#åœ¨[mysqld]ä¸­æ·»åŠ 
character-set-server=utf8
#åœ¨[client]ä¸­æ·»åŠ ,æ²¡æœ‰æ­¤è¡Œè¯·è‡ªå·±æ·»åŠ 
default-character-set=utf8
#åœ¨[mysql]ä¸­æ·»åŠ ,æ²¡æœ‰æ­¤è¡Œè¯·è‡ªå·±æ·»åŠ 
default-character-set=utf8
</code></pre>
<p>ä¿å­˜åï¼Œå†é‡å¯MySQLæœåŠ¡ç™»å½•MySQLæŸ¥çœ‹ğŸ‘€å­—ç¬¦é›†æ˜¯å¦å…¨ä¸ºutf8ã€‚</p>
<figure data-type="image" tabindex="8"><img src="https://Yanoona.github.io/post-images/1582081817742.png" alt="" loading="lazy"></figure>

                    </div>
                    <div class="clear"></div>
                </section>
            </article>
            <div class="clear"></div>

            <section class="related section">
                
                    <article class="prev grid-50 tablet-grid-50 grid-parent">
                        <div class="thumb cover lazy loaded"
                             style="background-image: url('https://Yanoona.github.io/post-images/NNC7-_gM_.jpg');"></div>
                        <a href="https://Yanoona.github.io/NNC7-_gM_/" class="full-link"></a>
                        <div class="info">
                            <time datetime="2020-02-19">2020-02-19</time>
                            <h4 class="title white no-margin">Hadoopåˆ°Mysqlçš„æ•°æ®ä¼ è¾“è®°å½•</h4>
                        </div>
                        <span class="epcl-button red">
                  <img src="https://Yanoona.github.io/media/images/left-arrow.svg" width="15" alt="Left Arrow">
                </span>
                        <div class="overlay"></div>
                    </article>
                
                
                    <article class="next grid-50 tablet-grid-50 grid-parent">
                        <div class="thumb cover lazy loaded"
                             style="background-image: url('https://Yanoona.github.io/post-images/JD2fNczzi.jpg');"></div>
                        <a href="https://Yanoona.github.io/JD2fNczzi/" class="full-link"></a>
                        <div class="info">
                            <time datetime="2020-02-18">2020-02-18</time>
                            <h4 class="title white no-margin">CentOS 7 ä¸­æ‰€é‡è§çš„å¼‚å¸¸</h4>
                        </div>
                        <span class="epcl-button red">
                  <img src="https://Yanoona.github.io/media/images/right-arrow.svg" width="15" alt="Left Arrow">
                </span>
                        <div class="overlay"></div>
                    </article>
                

                <div class="clear"></div>
            </section>
        </div>
    </div>
</main>

    <footer id="footer" class="grid-container">
        <div class="widgets row gradient-effect">
            <div class="default-sidebar border-effect">
              <div class="grid-33 tablet-grid-50 mobile-grid-100">
                <section id="tag_cloud-2" class="widget widget_epcl_posts_thumbs underline-effect">
                  <h4 class="widget-title title white bordered">æœ€æ–°æ–‡ç« </h4>
                  
                  
                  <article class="item post-0 post type-post status-publish format-standard has-post-thumbnail hentry">
                    <a href="https://Yanoona.github.io/zxJ0ci4F1/" class="thumb hover-effect">
                      <span class="fullimage cover" style="display: block;background-image: url('https://Yanoona.github.io/post-images/zxJ0ci4F1.jpg');"></span>
                    </a>
                    <div class="info gradient-effect">
                      <time datetime="2020-02-20">2020-02-20</time>
                      <h4 class="title usmall">
                        <a href="https://Yanoona.github.io/zxJ0ci4F1/">ä½¿ç”¨axioså‡ºç°çš„è·¨åŸŸé—®é¢˜</a>
                      </h4>
                    </div>
                    <div class="clear"></div>
                  </article>
                  
                  
                  
                  <article class="item post-1 post type-post status-publish format-standard has-post-thumbnail hentry">
                    <a href="https://Yanoona.github.io/VOrX9Qjkt/" class="thumb hover-effect">
                      <span class="fullimage cover" style="display: block;background-image: url('https://Yanoona.github.io/post-images/VOrX9Qjkt.jpg');"></span>
                    </a>
                    <div class="info gradient-effect">
                      <time datetime="2020-02-20">2020-02-20</time>
                      <h4 class="title usmall">
                        <a href="https://Yanoona.github.io/VOrX9Qjkt/">Axiosè¿œç¨‹æ¥å£é“¾æ¥æ—¶ï¼ŒæŠ¥404</a>
                      </h4>
                    </div>
                    <div class="clear"></div>
                  </article>
                  
                  
                  
                  <article class="item post-2 post type-post status-publish format-standard has-post-thumbnail hentry">
                    <a href="https://Yanoona.github.io/Y72Yd1hiG/" class="thumb hover-effect">
                      <span class="fullimage cover" style="display: block;background-image: url('https://Yanoona.github.io/post-images/Y72Yd1hiG.jpg');"></span>
                    </a>
                    <div class="info gradient-effect">
                      <time datetime="2020-02-20">2020-02-20</time>
                      <h4 class="title usmall">
                        <a href="https://Yanoona.github.io/Y72Yd1hiG/">ä½¿ç”¨Iviewæ‰‹è„šæ¶æ­å»ºé¡¹ç›®å¼‚å¸¸</a>
                      </h4>
                    </div>
                    <div class="clear"></div>
                  </article>
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  <div class="clear"></div>
                </section>
              </div>

              <div class="grid-33 tablet-grid-50 mobile-grid-100">
                <section id="tag_cloud-2" class="widget widget_tag_cloud underline-effect">
                  <h4 class="widget-title title white bordered">æ ‡ç­¾äº‘</h4>
                  <div class="tagcloud">
                    
                      <a href="https://Yanoona.github.io/dXBZlTYs0/" class="ctag ctag-0 ctag-dXBZlTYs0" aria-label="">Vue</a>
                    
                      <a href="https://Yanoona.github.io/bigData/" class="ctag ctag-1 ctag-bigData" aria-label="">å¤§æ•°æ®</a>
                    
                      <a href="https://Yanoona.github.io/Sqoop/" class="ctag ctag-2 ctag-Sqoop" aria-label="">Sqoop</a>
                    
                      <a href="https://Yanoona.github.io/Hive/" class="ctag ctag-3 ctag-Hive" aria-label="">Hive</a>
                    
                      <a href="https://Yanoona.github.io/mysql/" class="ctag ctag-4 ctag-mysql" aria-label="">mysql</a>
                    
                      <a href="https://Yanoona.github.io/Hadoop/" class="ctag ctag-5 ctag-Hadoop" aria-label="">Hadoop</a>
                    
                      <a href="https://Yanoona.github.io/j_dWapwnj/" class="ctag ctag-6 ctag-j_dWapwnj" aria-label="">CentOS 7</a>
                    
                  </div>
                  <div class="clear"></div>
                </section>
              </div>

              <div class="grid-33 tablet-grid-50 mobile-grid-100">
                <section id="epcl_about-2" class="widget widget_epcl_about underline-effect">
                  <h4 class="widget-title title white bordered">å…³äºæˆ‘</h4>
                  <div class="avatar">
                    <a href="https://github.com/Yanoona" class="translate-effect thumb"><span class="fullimage cover" style="background-image: url(https://Yanoona.github.io/images/avatar.png);"></span></a>
                  </div>
                  <div class="info">
                    <h4 class="title small author-name gradient-effect no-margin"><a href="https://github.com/Yanoona">å§¿åŠ¿ç¾å¦‚ç”»( *ãƒ»Ï‰ãƒ»)âœ„â•°ã²â•¯</a></h4>
                    <p class="founder">å¤§çˆ·ä¸è¿›æ¥çœ‹çœ‹å—ï¼Ÿè¿™é‡Œæœ‰å¥½åº·çš„å“¦~~~</p>
                    <div class="social">
                      
                        
                            <a href="https://github.com/Yanoona" class="translate-effect" target="_blank"><i class="fa fa-github"></i></a>
                        
                      
                        
                      
                        
                            <a href="https://blog.csdn.net/qq_39299449" class="translate-effect" target="_blank"><i class="fa fa-csdn"></i></a>
                        
                      
                        
                            <a href="https://www.jianshu.com/u/6d8fc7359702" class="translate-effect" target="_blank"><i class="fa fa-jianshu"></i></a>
                        
                      
                    </div>
                  </div>
                  <div class="clear"></div>
                  </section>
              </div>

            </div>
            <div class="clear"></div>
        </div>

        <p class="published border-effect">
          Â©2020 å…± 7 ç¯‡æ–‡ç« 
        </p>
        
        <a href="javascript:void(0)" id="back-to-top" class="epcl-button dark" style="display:none">
          <i class="fa fa-arrow"></i>
        </a>
    </footer>
    <div class="clear"></div>

<script type="text/javascript">
    jQuery(document).ready(function ($) {
        $("photos img").each(function () {
            var _a = $("<a></a>").attr("href", this.src);
            $(this).wrap("<div class='photo'></div>").wrap(_a);
        })
        $("figure img").each(function () {
            var _b = $("<a></a>").attr("href", this.src);
            $(this).wrap(_b);
        })
        isImgLoad(function () {
            var photos = document.querySelector('photos');
            if (photos) {
                waterfall(photos);
            }
            $(window).resize(function () {
                if (photos) {
                    waterfall(photos);
                }
            });
        });
        var t_img;
        var isLoad = true;

        function isImgLoad(callback) {
            $('photos img').each(function () {
                if (this.height === 0) {
                    isLoad = false;
                    return false;
                }
            });
            if (isLoad) {
                clearTimeout(t_img);
                callback();
            } else {
                isLoad = true;
                t_img = setTimeout(function () {
                    isImgLoad(callback);
                }, 500);
            }
        }
    });
</script>

</div>
<!-- end: #wrapper -->
</body>
</html>
