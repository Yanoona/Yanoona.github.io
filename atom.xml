<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://Yanoona.github.io</id>
    <title>å§¿åŠ¿ç¾å¦‚ç”»( *ãƒ»Ï‰ãƒ»)âœ„â•°ã²â•¯</title>
    <updated>2020-05-13T08:46:23.862Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://Yanoona.github.io"/>
    <link rel="self" href="https://Yanoona.github.io/atom.xml"/>
    <subtitle>å¤§çˆ·ä¸è¿›æ¥çœ‹çœ‹å—ï¼Ÿè¿™é‡Œæœ‰å¥½åº·çš„å“¦~~~</subtitle>
    <logo>https://Yanoona.github.io/images/avatar.png</logo>
    <icon>https://Yanoona.github.io/favicon.ico</icon>
    <rights>All rights reserved 2020, å§¿åŠ¿ç¾å¦‚ç”»( *ãƒ»Ï‰ãƒ»)âœ„â•°ã²â•¯</rights>
    <entry>
        <title type="html"><![CDATA[Spring çŸ¥è¯†å›é¡¾ä¹‹ ä½“ç³»ç»“æ„]]></title>
        <id>https://Yanoona.github.io/ta0wVkBzF/</id>
        <link href="https://Yanoona.github.io/ta0wVkBzF/">
        </link>
        <updated>2020-05-13T04:41:46.000Z</updated>
        <summary type="html"><![CDATA[<h2 id="ä¸€-ä½“ç³»ç»“æ„">ä¸€ã€ä½“ç³»ç»“æ„</h2>
<p>Spring å¤§æ¦‚æä¾›äº†20ä¸ªå·¦å³çš„åº”ç”¨æ¨¡å—ï¼Œå¯ä»¥æ ¹æ®åº”ç”¨ç¨‹åºçš„éœ€æ±‚æ¥è¿›è¡Œä½¿ç”¨ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<h2 id="ä¸€-ä½“ç³»ç»“æ„">ä¸€ã€ä½“ç³»ç»“æ„</h2>
<p>Spring å¤§æ¦‚æä¾›äº†20ä¸ªå·¦å³çš„åº”ç”¨æ¨¡å—ï¼Œå¯ä»¥æ ¹æ®åº”ç”¨ç¨‹åºçš„éœ€æ±‚æ¥è¿›è¡Œä½¿ç”¨ã€‚</p>
<!-- more -->
<figure data-type="image" tabindex="1"><img src="https://Yanoona.github.io/post-images/1589359363971.png" alt="Spring æ¶æ„å›¾" loading="lazy"></figure>
<h2 id="äºŒ-æ ¸å¿ƒå®¹å™¨">äºŒã€æ ¸å¿ƒå®¹å™¨</h2>
<blockquote>
<p>æ ¸å¿ƒå®¹å™¨ç”±<strong>spring-coreï¼Œspring-beansï¼Œspring-contextï¼Œspring-context-supportå’Œspring-expression</strong>ï¼ˆSpELï¼ŒSpringè¡¨è¾¾å¼è¯­è¨€ï¼ŒSpring Expression Languageï¼‰ç­‰æ¨¡å—ç»„æˆï¼Œå®ƒä»¬çš„ç»†èŠ‚å¦‚ä¸‹ï¼š</p>
</blockquote>
<ul>
<li>
<p><strong>spring-core</strong>æ¨¡å—æä¾›äº†æ¡†æ¶çš„åŸºæœ¬ç»„æˆéƒ¨åˆ†ï¼ŒåŒ…æ‹¬ **æ§åˆ¶åè½¬ï¼ˆIOCï¼‰<strong>å’Œ</strong>ä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰**åŠŸèƒ½ã€‚</p>
</li>
<li>
<p><strong>spring-beans</strong> æ¨¡å—æä¾› BeanFactoryï¼Œå·¥å‚æ¨¡å¼çš„å¾®å¦™å®ç°ï¼Œå®ƒç§»é™¤äº†ç¼–ç å¼å•ä¾‹çš„éœ€è¦ï¼Œå¹¶ä¸”å¯ä»¥æŠŠé…ç½®å’Œä¾èµ–ä»å®é™…ç¼–ç é€»è¾‘ä¸­è§£è€¦ã€‚</p>
</li>
<li>
<p><strong>spring-context</strong> æ¨¡å—å»ºç«‹åœ¨ç”±<strong>core</strong>å’Œ <strong>beans</strong> æ¨¡å—çš„åŸºç¡€ä¸Šå»ºç«‹èµ·æ¥çš„ï¼Œå®ƒä»¥ä¸€ç§ç±»ä¼¼äºJNDIæ³¨å†Œçš„æ–¹å¼è®¿é—®å¯¹è±¡ã€‚Contextæ¨¡å—ç»§æ‰¿è‡ªBeanæ¨¡å—ï¼Œå¹¶ä¸”æ·»åŠ äº†å›½é™…åŒ–ï¼ˆæ¯”å¦‚ï¼Œä½¿ç”¨èµ„æºæŸï¼‰ã€äº‹ä»¶ä¼ æ’­ã€èµ„æºåŠ è½½å’Œé€æ˜åœ°åˆ›å»ºä¸Šä¸‹æ–‡ï¼ˆæ¯”å¦‚ï¼Œé€šè¿‡Serveletå®¹å™¨ï¼‰ç­‰åŠŸèƒ½ã€‚Contextæ¨¡å—ä¹Ÿæ”¯æŒJava EEçš„åŠŸèƒ½ï¼Œæ¯”å¦‚<code>EJBï¼ˆEnterprise Java Beansçš„ç¼©å†™ï¼Œä¼ä¸šçº§JavaBeanï¼‰</code>ã€<code>JMXï¼ˆJava Management Extensionsï¼Œå³Javaç®¡ç†æ‰©å±•ï¼‰</code>å’Œè¿œç¨‹è°ƒç”¨ç­‰ã€‚<strong>ApplicationContext</strong>æ¥å£æ˜¯Contextæ¨¡å—çš„ç„¦ç‚¹ã€‚</p>
</li>
<li>
<p><strong>spring-context-support</strong>æä¾›äº†å¯¹ç¬¬ä¸‰æ–¹åº“é›†æˆåˆ°Springä¸Šä¸‹æ–‡çš„æ”¯æŒï¼Œæ¯”å¦‚ç¼“å­˜ï¼ˆEhCache, Guava, JCacheï¼‰ã€é‚®ä»¶ï¼ˆJavaMailï¼‰ã€è°ƒåº¦ï¼ˆCommonJ, Quartzï¼‰ã€æ¨¡æ¿å¼•æ“ï¼ˆFreeMarker, JasperReports, Velocityï¼‰ç­‰ã€‚</p>
</li>
<li>
<p><strong>spring-expression</strong>æ¨¡å—æä¾›äº†å¼ºå¤§çš„è¡¨è¾¾å¼è¯­è¨€ï¼Œç”¨äºåœ¨è¿è¡Œæ—¶æŸ¥è¯¢å’Œæ“ä½œå¯¹è±¡å›¾ã€‚å®ƒæ˜¯JSP2.1è§„èŒƒä¸­å®šä¹‰çš„ç»Ÿä¸€è¡¨è¾¾å¼è¯­è¨€çš„æ‰©å±•ï¼Œæ”¯æŒsetå’Œgetå±æ€§å€¼ã€å±æ€§èµ‹å€¼ã€æ–¹æ³•è°ƒç”¨ã€è®¿é—®æ•°ç»„é›†åˆåŠç´¢å¼•çš„å†…å®¹ã€é€»è¾‘ç®—æœ¯è¿ç®—ã€å‘½åå˜é‡ã€é€šè¿‡åå­—ä»Spring IoCå®¹å™¨æ£€ç´¢å¯¹è±¡ï¼Œè¿˜æ”¯æŒåˆ—è¡¨çš„æŠ•å½±ã€é€‰æ‹©ä»¥åŠèšåˆç­‰ã€‚</p>
<hr>
<p>å®ƒä»¬çš„å®Œæ•´ä¾èµ–å…³ç³»å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
</li>
</ul>
<figure data-type="image" tabindex="2"><img src="https://Yanoona.github.io/post-images/1589359408576.png" alt="Spring ä½“ç³»ç»“æ„" loading="lazy"></figure>
<h2 id="ä¸‰-å±‚çº§">ä¸‰ã€å±‚çº§</h2>
<h3 id="æ•°æ®è®¿é—®å±‚é›†æˆå±‚">æ•°æ®è®¿é—®å±‚/é›†æˆå±‚</h3>
<p>æ•°æ®è®¿é—®å±‚åŒ…æ‹¬ JDBCï¼ˆ Java Data Base Connectivity ï¼‰ã€ORMï¼ˆ Object Relational Mapping ï¼‰ã€OXM ï¼ˆ Object XML Mapping ï¼‰ã€JMS ï¼ˆ Java Message Service ï¼‰å’Œäº‹åŠ¡å¤„ç†æ¨¡å—ï¼š</p>
<ul>
<li>JDBC ï¼šæä¾›äº†JDBCçš„æŠ½è±¡å±‚ï¼Œæ¶ˆé™¤äº†å†—é•¿çš„JDBCç¼–ç å’Œå¯¹æ•°æ®åº“ä¾›åº”å•†ç‰¹å®šé”™è¯¯ä»£ç çš„è§£æã€‚</li>
<li>ORM ï¼šæä¾›äº†å¯¹æµè¡Œçš„å¯¹è±¡å…³ç³»æ˜ å°„APIçš„é›†æˆï¼ŒåŒ…æ‹¬ JPAã€MyBatisã€Hibernateç­‰ã€‚é€šè¿‡æ­¤æ¨¡å—å¯ä»¥è®©è¿™äº›ORMæ¡†æ¶å’ŒSpringçš„å…¶å®ƒåŠŸèƒ½æ•´åˆã€‚</li>
<li>OXM ï¼šæä¾›äº†å¯¹OXMå®ç°çš„æ”¯æŒï¼Œä¾‹å¦‚XML Beansã€‚</li>
<li>JMS   ï¼šåŒ…å«ç”Ÿäº§ï¼ˆproduceï¼‰å’Œæ¶ˆè´¹ï¼ˆconsumeï¼‰æ¶ˆæ¯çš„åŠŸèƒ½ï¼Œä»Spring4.1å¼€å§‹é›†æˆäº†spring-messagessingæ¨¡å—ã€‚</li>
<li>äº‹åŠ¡å¤„ç†æ¨¡å—ï¼šä¸ºå®ç°æ‰€æœ‰ç‰¹æ®Šæ¥å£ç±»åŠæ‰€æœ‰çš„POJOæ”¯æŒç¼–ç¨‹å¼å’Œå£°æ˜å¼äº‹åŠ¡çš„ç®¡ç†ã€‚</li>
</ul>
<h3 id="webå±‚">WEBå±‚</h3>
<p>Web å±‚ç”± Webï¼ŒWeb-MVCï¼ŒWeb-Socket å’Œ Web-Portlet ç»„æˆï¼Œå®ƒä»¬çš„ç»†èŠ‚å¦‚ä¸‹ï¼š</p>
<ul>
<li><strong>Web</strong> æ¨¡å—æä¾›é¢å‘webçš„åŸºæœ¬åŠŸèƒ½å’Œé¢å‘webçš„åº”ç”¨ä¸Šä¸‹æ–‡ï¼Œæ¯”å¦‚å¤šéƒ¨åˆ†ï¼ˆmultipartï¼‰æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½ã€ä½¿ç”¨Servletç›‘å¬å™¨åˆå§‹åŒ–IoCå®¹å™¨ç­‰ã€‚å®ƒè¿˜åŒ…æ‹¬HTTPå®¢æˆ·ç«¯ä»¥åŠSpringè¿œç¨‹è°ƒç”¨ä¸­ä¸webç›¸å…³çš„éƒ¨åˆ†ã€‚ã€‚</li>
<li><strong>Web-MVC</strong> æ¨¡å—ä¸ºwebåº”ç”¨æä¾›äº†æ¨¡å‹è§†å›¾æ§åˆ¶ï¼ˆMVCï¼‰å’ŒREST WebæœåŠ¡çš„å®ç°ã€‚Springçš„MVCæ¡†æ¶å¯ä»¥ä½¿é¢†åŸŸæ¨¡å‹ä»£ç å’Œwebè¡¨å•å®Œå…¨åœ°åˆ†ç¦»ï¼Œä¸”å¯ä»¥ä¸Springæ¡†æ¶çš„å…¶å®ƒæ‰€æœ‰åŠŸèƒ½è¿›è¡Œé›†æˆã€‚</li>
<li><strong>Web-Socket</strong> æ¨¡å—ä¸º WebSocket-based æä¾›äº†æ”¯æŒï¼Œè€Œä¸”åœ¨ web åº”ç”¨ç¨‹åºä¸­æä¾›äº†å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯ä¹‹é—´é€šä¿¡çš„ä¸¤ç§æ–¹å¼ã€‚</li>
<li><strong>Web-Portlet</strong> æ¨¡å—æä¾›äº†ç”¨äºPortletç¯å¢ƒçš„MVCå®ç°ï¼Œå¹¶åæ˜ äº†spring-webmvcæ¨¡å—çš„åŠŸèƒ½ã€‚</li>
</ul>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Spring çŸ¥è¯†å›é¡¾ä¹‹ æ¦‚å¿µ]]></title>
        <id>https://Yanoona.github.io/CpjS5YWXn/</id>
        <link href="https://Yanoona.github.io/CpjS5YWXn/">
        </link>
        <updated>2020-05-13T02:39:19.000Z</updated>
        <summary type="html"><![CDATA[<h2 id="ä¸€-æ¦‚è¿°">ä¸€ã€æ¦‚è¿°</h2>
<h3 id="11-è¯´æ˜">1.1 è¯´æ˜</h3>
<ul>
<li>Spring æ˜¯æœ€å—æ¬¢è¿çš„ä¼ä¸šçº§Javaåº”ç”¨ç¨‹åºå¼€å‘æ¡†æ¶</li>
</ul>
]]></summary>
        <content type="html"><![CDATA[<h2 id="ä¸€-æ¦‚è¿°">ä¸€ã€æ¦‚è¿°</h2>
<h3 id="11-è¯´æ˜">1.1 è¯´æ˜</h3>
<ul>
<li>Spring æ˜¯æœ€å—æ¬¢è¿çš„ä¼ä¸šçº§Javaåº”ç”¨ç¨‹åºå¼€å‘æ¡†æ¶<!-- more -->
</li>
<li>Spring æ¡†æ¶æ˜¯ä¸€ä¸ªå¼€æºçš„Javaé¡¹ç›®ï¼Œæœ€åˆç”± Rod Johnson ä»¥åŠ Juergen Hoeller ç­‰äººå¼€å‘ç¼–å†™ï¼Œå¹¶ä¸”äº2003å¹´6æœˆåœ¨ <a href="https://zh.wikipedia.org/wiki/Apache_License_2.0">Apache License 2.0</a> è®¸å¯ä¸‹å‘å¸ƒ</li>
<li>Spring æ˜¯è½»é‡çº§çš„æ¡†æ¶ï¼Œæœ€åˆç‰ˆæœ¬åªæœ‰2Må·¦å³</li>
<li>Spring çš„<strong>æ ¸å¿ƒç‰¹æ€§æ˜¯å¯ä»¥ç”¨äºå¼€å‘ä»»ä½•Javaç¨‹åºï¼Œä»¥åŠç®€åŒ–Javaç¨‹åºå¼€å‘çš„å¤æ‚åº¦</strong>ã€‚</li>
</ul>
<h3 id="12-å¥½å¤„">1.2 å¥½å¤„</h3>
<ul>
<li>æ–¹ä¾¿è§£è€¦,ç®€åŒ–å¼€å‘</li>
<li>æ”¯æŒé¢ç›¸åˆ‡é¢çš„ç¼–ç¨‹,å¹¶ä¸”æŠŠåº”ç”¨ä¸šåŠ¡é€»è¾‘å’Œç³»ç»Ÿåˆ†å¼€</li>
<li>åŒ…å«å¹¶ç®¡ç†åº”ç”¨ä¸­å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸå’Œé…ç½®</li>
<li>Spring çš„ web æ¡†æ¶æ˜¯ä¸€ä¸ªè®¾è®¡è‰¯å¥½çš„ web MVC æ¡†æ¶ï¼Œå®ƒä¸ºæ¯”å¦‚ Structs æˆ–è€…å…¶ä»–å·¥ç¨‹ä¸Šçš„æˆ–è€…ä¸æ€ä¹ˆå—æ¬¢è¿çš„ web æ¡†æ¶æä¾›äº†ä¸€ä¸ªå¾ˆå¥½çš„ä¾›æ›¿ä»£çš„é€‰æ‹©ã€‚</li>
<li>Springæä¾›äº†ä¸€è‡´çš„äº‹åŠ¡ç®¡ç†æ¥å£ï¼Œå¯å‘ä¸‹æ‰©å±•åˆ°æœ¬åœ°äº‹åŠ¡å¹¶æ‰©å±•åˆ°å…¨å±€äº‹åŠ¡</li>
</ul>
<h3 id="13-é‡ç‚¹æ¦‚å¿µ">1.3 é‡ç‚¹æ¦‚å¿µ</h3>
<h4 id="ä¾èµ–æ³¨å…¥dependency-injectionç®€ç§°di">ä¾èµ–æ³¨å…¥ï¼ˆDependency Injectionï¼Œç®€ç§°<strong>DI</strong>ï¼‰</h4>
<blockquote>
<p>Spring æœ€è®¤åŒçš„æŠ€æœ¯æ˜¯æ§åˆ¶åè½¬çš„**ä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰**æ¨¡å¼ã€‚æ§åˆ¶åè½¬ï¼ˆIoCï¼‰æ˜¯ä¸€ä¸ªé€šç”¨çš„æ¦‚å¿µï¼Œå®ƒå¯ä»¥ç”¨è®¸å¤šä¸åŒçš„æ–¹å¼å»è¡¨è¾¾ï¼Œä¾èµ–æ³¨å…¥ä»…ä»…æ˜¯æ§åˆ¶åè½¬çš„ä¸€ä¸ªå…·ä½“çš„ä¾‹å­ã€‚</p>
<p>å°†ä¾èµ–å…³ç³»éƒ¨åˆ†è½¬åŒ–ä¸ºä¸¤ä¸ªç±»ä¹‹é—´çš„å…³è”ã€‚ä¾‹å¦‚ï¼Œç±» A ä¾èµ–äºç±» Bã€‚ç°åœ¨ï¼Œè®©æˆ‘ä»¬çœ‹ä¸€çœ‹ç¬¬äºŒéƒ¨åˆ†ï¼Œæ³¨å…¥ã€‚æ‰€æœ‰è¿™ä¸€åˆ‡éƒ½æ„å‘³ç€ç±» B å°†é€šè¿‡ IoC è¢«æ³¨å…¥åˆ°ç±» A ä¸­ã€‚</p>
<p>ä¾èµ–æ³¨å…¥å¯ä»¥ä»¥å‘æ„é€ å‡½æ•°ä¼ é€’å‚æ•°çš„æ–¹å¼å‘ç”Ÿï¼Œæˆ–è€…é€šè¿‡ä½¿ç”¨ setter æ–¹æ³• post-constructionã€‚</p>
</blockquote>
<p>ä¸€å¥è¯æ¦‚æ‹¬ï¼š<mark>åˆ›å»ºè¢«è°ƒç”¨è€…å®ä¾‹çš„å·¥ä½œç”±Springå®¹å™¨æ¥å®Œæˆï¼Œç„¶åæ³¨å…¥è°ƒç”¨è€…ï¼Œå› æ­¤è¢«ç§°ä¸º<strong>ä¾èµ–æ³¨å…¥</strong>ã€‚</mark></p>
<hr>
<h4 id="æ§åˆ¶åè½¬inversion-of-controlç¼©å†™ä¸ºioc">æ§åˆ¶åè½¬ï¼ˆInversion of Controlï¼Œç¼©å†™ä¸º<strong>IOC</strong>ï¼‰</h4>
<blockquote>
<p><strong>æ§åˆ¶åè½¬ï¼ˆIOCï¼‰</strong>ï¼Œæ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­çš„ä¸€ç§è®¾è®¡åŸåˆ™ï¼Œå¯ä»¥ç”¨æ¥å‡ä½ä»£ç ä¹‹é—´çš„è€¦åˆåº¦ã€‚å…¶ä¸­æœ€å¸¸è§çš„æ–¹å¼å«åš<strong>ä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰</strong>ï¼Œè¿˜æœ‰ä¸€ç§æ–¹å¼å« â€œä¾èµ–æŸ¥æ‰¾â€ã€‚é€šè¿‡æ§åˆ¶åè½¬ï¼Œå¯¹è±¡åœ¨è¢«åˆ›å»ºçš„æ—¶å€™ï¼Œæœ‰ä¸€ä¸ªè°ƒæ§ç³»ç»Ÿå†…æ‰€æœ‰å¯¹è±¡çš„å¤–ç•Œå®ä½“ï¼Œå°†å…¶æ‰€ä¾èµ–çš„å¯¹è±¡çš„å¼•ç”¨ä¼ é€’ï¼ˆæ³¨å…¥ï¼‰ç»™å®ƒã€‚</p>
</blockquote>
<p>ä¸€å¥è¯æ¦‚æ‹¬ï¼š<mark>åˆ›å»ºè¢«è°ƒç”¨è€…çš„å·¥ä½œä¸å†ç”±è°ƒç”¨è€…æ¥å®Œæˆï¼Œå› æ­¤è¢«ç§°ä¸º<strong>æ§åˆ¶åè½¬ï¼ˆIOCï¼‰</strong>ã€‚</mark></p>
<hr>
<h4 id="é¢å‘åˆ‡é¢aspect-oriented-programmingç¼©å†™ä¸ºaop">é¢å‘åˆ‡é¢ï¼ˆAspect-oriented programmingï¼Œç¼©å†™ä¸ºAOPï¼‰</h4>
<blockquote>
<p>**é¢å‘åˆ‡é¢ï¼ˆAOPï¼‰**æ˜¯è®¡ç®—æœºç§‘å­¦ä¸­çš„ä¸€ç§ç¨‹åºè®¾è®¡æ€æƒ³ï¼Œ<strong>ç›®æ ‡åœ¨å°†æ¨ªåˆ‡å…³æ³¨ç‚¹å’Œä¸šåŠ¡ä¸»ä½“è¿›è¡Œè¿›ä¸€æ­¥åˆ†ç¦»ï¼Œä»¥æé«˜ç¨‹åºä»£ç çš„æ¨¡å—åŒ–ç¨‹åº¦</strong>ã€‚</p>
</blockquote>
<p>AOPçš„æ¦‚å¿µç‚¹ï¼š</p>
<ul>
<li>å…³æ³¨ç‚¹ï¼ˆConcernï¼‰ï¼š<em>å¯¹è½¯ä»¶å·¥ç¨‹æœ‰æ„ä¹‰çš„å°çš„ã€å¯ç®¡ç†çš„ã€å¯æè¿°çš„è½¯ä»¶ç»„æˆéƒ¨åˆ†ï¼Œä¸€ä¸ªå…³æ³¨ç‚¹é€šå¸¸åªåŒä¸€ä¸ªç‰¹å®šæ¦‚å¿µæˆ–ç›®æ ‡ç›¸å…³è”ã€‚</em></li>
<li>ä¸»å…³æ³¨ç‚¹ï¼ˆCore concernï¼‰ï¼š<em>ä¸€ä¸ªè½¯ä»¶æœ€ä¸»è¦çš„å…³æ³¨ç‚¹ã€‚</em></li>
<li>å…³æ³¨ç‚¹åˆ†ç¦»ï¼ˆSeparation of concernsï¼ŒSOCï¼‰ï¼š<em>æ ‡è¯†ã€å°è£…å’Œæ“ä½œå…³æ³¨ç‚¹çš„èƒ½åŠ›ã€‚</em></li>
<li>æ–¹æ³•ï¼ˆMethodï¼‰ï¼š<em>ç”¨æ¥æè¿°ã€è®¾è®¡ã€å®ç°ä¸€ä¸ªç»™å®šå…³æ³¨ç‚¹çš„è½¯ä»¶æ„é€ å•ä½ã€‚</em></li>
<li>æ¨ªåˆ‡ï¼ˆCrosscutï¼‰ï¼š<em>ä¸¤ä¸ªå…³æ³¨ç‚¹ç›¸äº’æ¨ªåˆ‡ï¼Œå¦‚æœå®ç°å®ƒä»¬çš„æ–¹æ³•å­˜åœ¨äº¤é›†ã€‚</em></li>
<li>æ”¯é…æ€§åˆ†è§£ï¼ˆDominant decompositionï¼‰ï¼š<em>å°†è½¯ä»¶åˆ†è§£æˆæ¨¡å—çš„ä¸»è¦æ–¹å¼ã€‚æ”¯é…æ€§åˆ†è§£ä¸€èˆ¬æ˜¯æŒ‰ä¸»å…³æ³¨ç‚¹è¿›è¡Œæ¨¡å—åˆ†è§£çš„ã€‚</em></li>
<li>æ¨ªåˆ‡å…³æ³¨ç‚¹ï¼ˆCrosscutting concernsï¼‰ï¼š<em>åœ¨ä¼ ç»Ÿçš„ç¨‹åºè®¾è®¡è¯­è¨€ä¸­ï¼Œé™¤äº†ä¸»å…³æ³¨ç‚¹å¯ä»¥è¢«æ”¯é…æ€§åˆ†è§£æ–¹å¼æ•æ‰ä»¥å¤–ï¼Œè¿˜æœ‰è®¸å¤šæ²¡æœ‰è¢«æ”¯é…æ€§åˆ†è§£æ–¹å¼æ•æ‰åˆ°çš„å…³æ³¨ç‚¹ï¼Œè¿™äº›å…³æ³¨ç‚¹çš„å®ç°ä¼šå¼¥æ•£åœ¨æ•´ä¸ªè½¯ä»¶å†…éƒ¨ï¼Œè¿™æ—¶è¿™äº›å…³æ³¨ç‚¹åŒä¸»å…³æ³¨ç‚¹æ˜¯æ¨ªåˆ‡çš„ã€‚</em></li>
<li>åˆ‡é¢ï¼ˆAspectï¼‰ï¼š<em>åœ¨æ”¯é…æ€§åˆ†è§£çš„åŸºç¡€ä¸Šï¼Œæä¾›çš„ä¸€ç§è¾…åŠ©çš„æ¨¡å—åŒ–æœºåˆ¶ï¼Œè¿™ç§æ–°çš„æ¨¡å—åŒ–æœºåˆ¶å¯ä»¥æ•æ‰æ¨ªåˆ‡å…³æ³¨ç‚¹ã€‚</em></li>
</ul>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Java8æ—¥æœŸAPIä½¿ç”¨è®°å½•]]></title>
        <id>https://Yanoona.github.io/lIPSlIjZp/</id>
        <link href="https://Yanoona.github.io/lIPSlIjZp/">
        </link>
        <updated>2020-05-11T09:30:00.000Z</updated>
        <summary type="html"><![CDATA[<h2 id="æ—¥æœŸè½¬æ¢">æ—¥æœŸè½¬æ¢</h2>
<h3 id="1dateè½¬æ¢æˆlocaldate">1.Dateè½¬æ¢æˆLocalDate</h3>
<p><strong>è¿™é‡Œçš„ Date ä¸º <code>java.util</code>åŒ…ä¸‹çš„ Dateã€‚</strong></p>
<h4 id="ç¬¬ä¸€ç§æ–¹å¼">ç¬¬ä¸€ç§æ–¹å¼ï¼š</h4>
]]></summary>
        <content type="html"><![CDATA[<h2 id="æ—¥æœŸè½¬æ¢">æ—¥æœŸè½¬æ¢</h2>
<h3 id="1dateè½¬æ¢æˆlocaldate">1.Dateè½¬æ¢æˆLocalDate</h3>
<p><strong>è¿™é‡Œçš„ Date ä¸º <code>java.util</code>åŒ…ä¸‹çš„ Dateã€‚</strong></p>
<h4 id="ç¬¬ä¸€ç§æ–¹å¼">ç¬¬ä¸€ç§æ–¹å¼ï¼š</h4>
<!-- more -->
<pre><code class="language-java">Date date = new Date();
//ä½¿ç”¨Dateç±»ä¸­çš„toInstantæ–¹æ³•è½¬æ¢æˆTimeåŒ…ä¸­çš„Instantç±»
Instant instant = date.toInstant();
//å› ä¸ºè½¬æ¢åçš„Instantç±»ä¸å¸¦æœ‰æ—¶åŒºï¼Œæ‰€ä»¥ä¸ºå…¶æ·»åŠ æ—¶åŒº
ZonedDateTime zonedDateTime = instant.atZone(ZoneId.systemDefault());
//è°ƒç”¨toLocalDateæ–¹æ³•è½¬æ¢æˆLocalDate
zonedDateTime.toLocalDate();
</code></pre>
<h4 id="ç¬¬äºŒç§æ–¹å¼">ç¬¬äºŒç§æ–¹å¼ï¼š</h4>
<pre><code class="language-java">Date date = new Date();
//å…ˆå°†å…¶è½¬æ¢æˆ java.sqlåŒ…çš„Dateï¼Œå› ä¸ºæ­¤åŒ…ä¸‹çš„Dateç±»ä¸­å¸¦æœ‰ ç›´æ¥è½¬æ¢LocalDate çš„æ–¹æ³•
java.sql.Date sqlDate = new java.sql.Date(date.getTime());
LocalDate localDate = sqlDate.toLocalDate();
</code></pre>
<hr>
<h3 id="2dateè½¬æ¢æˆlocaldate">2.Dateè½¬æ¢æˆLocalDate</h3>
<p><strong>è¿™é‡Œçš„ Date ä¸º <code>java.sql</code>åŒ…ä¸‹çš„ Dateã€‚</strong></p>
<pre><code class="language-java">Date sqlDate = new Date(date.getTime());
LocalDate localDate = sqlDate.toLocalDate();
</code></pre>
<hr>
<h3 id="3timestampè½¬æ¢ä¸ºlocaldate">3.Timestampè½¬æ¢ä¸ºLocalDate</h3>
<pre><code class="language-java">Timestamp timestamp = new Timestamp(System.currentTimeMillis());
LocalDateTime localDateTime = timestamp.toLocalDateTime();
LocalDate localDate = localDateTime.toLocalDate();
</code></pre>
<h2 id="-more-"><!-- more --></h2>
<h4 id="4calendarè½¬æ¢ä¸ºzonedatetime">4.Calendarè½¬æ¢ä¸ºZoneDateTime</h4>
<pre><code class="language-java">Calendar calendar = Calendar.getInstance();
//Calendarå¯¹è±¡åœ¨Java1.1ç‰ˆæœ¬å¼€å§‹æä¾›äº†ä¸€ä¸ªæ–¹æ³•ç”¨äºè·å–æ—¶åŒºå¯¹è±¡getTimeZoneæ–¹æ³•
//è½¬æ¢éœ€è¦å…ˆè·å–åˆ°æ—¶åŒºä¿¡æ¯
TimeZone timeZone = calendar.getTimeZone();
//è‡ªJava1.8ç‰ˆæœ¬å¼€å§‹ï¼ŒTimeZoneç±»åŠ å…¥äº†ä¸€ä¸ªæ–¹æ³•å¯ä»¥è·å–åˆ°ZoneId
ZoneId zoneId = timeZone.toZoneId();
//ä½¿ç”¨ofInstantæ–¹æ³•å°†Instantå‚æ•°å’Œæ—¶åŒºå°è£…æˆZoneDateTime
ZonedDateTime zonedDateTime = ZonedDateTime.ofInstant(calendar.toInstant(),zoneId);
</code></pre>
<h2 id="æ—¥æœŸçš„è§£æä¸æ ¼å¼åŒ–æ§åˆ¶">æ—¥æœŸçš„è§£æä¸æ ¼å¼åŒ–æ§åˆ¶</h2>
<blockquote>
<p><code>SimpleDateFormat</code> ç±»æ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ï¼Œæ‰€ä»¥ Java1.8 ç‰ˆæœ¬åŠ å…¥äº† <code>DateTimeFormatter</code>.</p>
<p><code>DateTimeFormatter</code> ç±»æä¾›äº†å¤§é‡é¢„å®šä¹‰æ ¼å¼åŒ–å™¨ï¼ŒåŒ…æ‹¬å¸¸é‡ï¼ˆå¦‚ISO_LOCAL_DATEï¼‰ï¼Œæ¨¡å¼å­—æ¯ï¼ˆå¦‚yyyy-MM-ddï¼‰ä»¥åŠæœ¬åœ°åŒ–æ ·å¼.</p>
<p><strong>ä¸<code>SimpleDateFormat</code> ä¸åŒçš„æ˜¯ï¼Œæ–°ç‰ˆæœ¬çš„æ—¥æœŸ/æ—¶é—´APIçš„æ ¼å¼åŒ–ä¸è§£æä¸éœ€è¦åœ¨åˆ›å»ºè½¬æ¢å™¨å¯¹è±¡å†è¿›è¡Œè½¬æ¢äº†ï¼Œé€šè¿‡æ—¶é—´æ—¥æœŸå¯¹è±¡çš„<code>parse/format</code>æ–¹æ³•å¯ä»¥ç›´æ¥è¿›è¡Œè½¬æ¢.</strong></p>
</blockquote>
<h3 id="1æ ¼å¼æ§åˆ¶-format-å’Œè§£æ-parse">1.æ ¼å¼æ§åˆ¶ format å’Œè§£æ parse</h3>
<pre><code class="language-java">LocalDateTime localDateTime = LocalDateTime.now();
//ä½¿ç”¨formatæ–¹æ³•è¿›è¡Œæ ¼å¼åŒ–å¤„ç†
String dateTime = localDateTime.format(DateTimeFormatter.ISO_DATE);
System.out.println(dateTime);

//ä½¿ç”¨parseæ–¹æ³•è§£æå­—ç¬¦ä¸²ä¸ºæ—¥æœŸå¯¹è±¡
//æ³¨æ„ï¼šæ­¤å¤„çš„dateTimeå­—ç¬¦ä¸²ç»è¿‡ä¸Šé¢çš„æ ¼å¼åŒ–çš„å¤„ç†åæ˜¯LocalDateæ ¼å¼.
//å¦‚æœä½¿ç”¨LocalDateTimeæ¥æ”¶ï¼Œç¼–è¯‘ä¼šé€šè¿‡ï¼Œä½†ä¼šæŠ¥å‡ºå¼‚å¸¸ï¼š
//		Process 'command 'C:/Java/jdk1.8.0_211/bin/java.exe'' finished with non-zero exit value 1
LocalDate localDate = LocalDate.parse(dateTime);
System.out.println(localDate);
</code></pre>
<hr>
<h3 id="2ä½¿ç”¨-oflocalizeddate-æ–¹æ³•æŒ‡å®šè§£æé•¿åº¦">2.ä½¿ç”¨ ofLocalizedDate æ–¹æ³•æŒ‡å®šè§£æé•¿åº¦</h3>
<p><strong>æ­¤æ–¹æ³•åœ¨ä¸åŒæ—¶åŒºæœ‰ä¸åŒçš„è§£ææ ¼å¼</strong></p>
<pre><code class="language-java">String dateTime1 = localDateTime.format(DateTimeFormatter.ofLocalizedDate(FormatStyle.FULL));
String dateTime2 = localDateTime.format(DateTimeFormatter.ofLocalizedDate(FormatStyle.SHORT));
String dateTime3 = localDateTime.format(DateTimeFormatter.ofLocalizedDate(FormatStyle.MEDIUM));
String dateTime4 = localDateTime.format(DateTimeFormatter.ofLocalizedDate(FormatStyle.LONG));
//è¾“å‡ºç»“æœï¼šFULLï¼š2020å¹´5æœˆ12æ—¥ æ˜ŸæœŸäºŒ
System.out.println(&quot;FULLï¼š&quot; + dateTime1);
//è¾“å‡ºç»“æœï¼šSHORTï¼š20-5-12
System.out.println(&quot;SHORTï¼š&quot; + dateTime2);
//è¾“å‡ºç»“æœï¼šMEDIUMï¼š2020-5-12
System.out.println(&quot;MEDIUMï¼š&quot; + dateTime3);
//è¾“å‡ºç»“æœï¼šLONGï¼š2020å¹´5æœˆ12æ—¥
System.out.println(&quot;LONGï¼š&quot; + dateTime4);
</code></pre>
<hr>
<h3 id="3è‡ªå®šä¹‰æ ¼å¼">3.è‡ªå®šä¹‰æ ¼å¼</h3>
<pre><code class="language-java">String datetime = localDateTime.format(DateTimeFormatter.ofPattern(&quot;yyyy/MM/dd HH:mm:ss:SSS&quot;));
//è¾“å‡ºç»“æœï¼šLONGï¼š2020/05/12 09:43:25:213
System.out.println(datetime);
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[CentOS 7å®šæ—¶æ‰§è¡ŒJavaç¨‹åº]]></title>
        <id>https://Yanoona.github.io/XvCd5eo8U/</id>
        <link href="https://Yanoona.github.io/XvCd5eo8U/">
        </link>
        <updated>2020-02-27T08:26:32.000Z</updated>
        <content type="html"><![CDATA[<h2 id="æ¦‚è¿°">ğŸ˜€æ¦‚è¿°</h2>
<p>è®°å½•ä¸€æ¬¡CentOS7ä¸­ä½¿ç”¨Crontabå®šæ—¶ä»»åŠ¡æ‰§è¡ŒJavaç¨‹åºçš„æ“ä½œã€‚</p>
<h2 id="å‡†å¤‡">ğŸ˜ƒå‡†å¤‡</h2>
<ul>
<li>JAVAç¨‹åº(å¯è¿è¡Œçš„JaråŒ…)</li>
<li>CentOSç³»ç»Ÿ</li>
<li>Crontabå®šæ—¶ä»»åŠ¡æœåŠ¡</li>
</ul>
<h2 id="æ­¥éª¤">ğŸ˜„æ­¥éª¤</h2>
<h3 id="å°†jaråŒ…ä¸Šä¼ åˆ°centosç³»ç»Ÿä¸Š">å°†JaråŒ…ä¸Šä¼ åˆ°CentOSç³»ç»Ÿä¸Š</h3>
<blockquote>
<p>æ­¤æ­¥çœç•¥è¯¦ç»†æ“ä½œï¼Œç®€è¿°å¤§æ¦‚æ­¥éª¤ğŸ¤ã€‚</p>
</blockquote>
<h4 id="å»ºç«‹å¹³å°è¿æ¥">å»ºç«‹å¹³å°è¿æ¥</h4>
<p>ä¸ºä»¥åæ–¹ä¾¿åœ¨Windowsç³»ç»Ÿå’ŒCentOSç³»ç»Ÿé—´çš„æ–‡ä»¶ä¼ è¾“æ“ä½œï¼Œæ­¤æ­¥å»ºè®®æ­å»ºğŸ‘¨â€ğŸ”§ <code>ftp</code>æœåŠ¡å™¨ã€‚</p>
<h4 id="æ‰“åŒ…javaç¨‹åº">æ‰“åŒ…Javaç¨‹åº</h4>
<p>Mavenæ–¹å¼ï¼š</p>
<p>åœ¨é¡¹ç›®ä¸­çš„<strong>pom.xml</strong>æ–‡ä»¶ä¸­ï¼ŒåŠ å…¥ä»¥ä¸‹ğŸ‘‡æ‰“åŒ…æ ‡ç­¾ï¼Œä¹‹åå†ä½¿ç”¨æ‰“åŒ…å‘½ä»¤<code>mvn clean package</code>æˆ–è€…ä½¿ç”¨IDEAé‡Œçš„Mavenæ’ä»¶ã€‚</p>
<pre><code class="language-xml">&lt;build&gt;
        &lt;!--ä½¿ç”¨Mavenç¼–è¯‘å¯æ‰§è¡Œçš„jar --&gt;
        &lt;finalName&gt;update_ase_cms&lt;/finalName&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;
                &lt;configuration&gt;
                    &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;
                    &lt;descriptorRefs&gt;
                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;
                    &lt;/descriptorRefs&gt;
                    &lt;archive&gt;
                        &lt;manifest&gt;
                            &lt;mainClass&gt;{åœ¨è¿™é‡Œå¡«å…¥ä½ çš„å¯åŠ¨ç±»}&lt;/mainClass&gt;
                        &lt;/manifest&gt;
                    &lt;/archive&gt;
                &lt;/configuration&gt;
                &lt;executions&gt;
                    &lt;execution&gt;
                        &lt;id&gt;make-assembly&lt;/id&gt;
                        &lt;phase&gt;package&lt;/phase&gt;
                        &lt;goals&gt;
                            &lt;goal&gt;assembly&lt;/goal&gt;
                        &lt;/goals&gt;
                    &lt;/execution&gt;
                &lt;/executions&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;

</code></pre>
<blockquote>
<p>å¦‚æœè¿è¡ŒJaråŒ…åå‡ºç°<code>java.lang.ClassNotFoundException</code>æˆ–è€…<code>no main manifest attribute</code>å¼‚å¸¸â˜¹ï¸çš„è¯ï¼Œå°±æ˜¯æ­¤å¤„æ²¡æœ‰é…ç½®å¥½ã€‚</p>
</blockquote>
<h4 id="å°†jaråŒ…ä¸Šä¼ åˆ°centosä¸­">å°†JaråŒ…ä¸Šä¼ åˆ°CentOSä¸­</h4>
<p>æ­¤æ­¥éª¤ä½¿ç”¨ ftp æœåŠ¡å™¨ä¸Šä¼ å³å¯ğŸ˜¤ã€‚</p>
<hr>
<h3 id="crontabé…ç½®å’Œä½¿ç”¨">Crontabé…ç½®å’Œä½¿ç”¨</h3>
<h4 id="æŸ¥çœ‹æ˜¯å¦å®‰è£…crontab">æŸ¥çœ‹æ˜¯å¦å®‰è£…Crontab</h4>
<pre><code>rpm -qa | grep cron
</code></pre>
<p>å·²å®‰è£…çš„ä¸ºä¸‹å›¾ğŸ˜‹æ‰€ç¤ºï¼ˆä¸€èˆ¬æ¥è¯´ï¼Œç³»ç»Ÿè‡ªå¸¦CrontabğŸ˜‰ï¼‰ï¼š</p>
<figure data-type="image" tabindex="1"><img src="https://Yanoona.github.io/post-images/1582792080190.png" alt="" loading="lazy"></figure>
<h4 id="æŸ¥çœ‹crontabæ˜¯å¦å¼€æœºè‡ªå¯åŠç›¸å…³å‘½ä»¤">æŸ¥çœ‹Crontabæ˜¯å¦å¼€æœºè‡ªå¯åŠç›¸å…³å‘½ä»¤</h4>
<pre><code>#æŸ¥çœ‹çŠ¶æ€
systemctl status crond
#å¼€å¯crontabæœåŠ¡
systemctl start crond
#å…³é—­crontabæœåŠ¡
systemctl stop crond
#é‡å¯crontabæœåŠ¡
systemctl restart crond
#å¼€æœºå¯åŠ¨
systemctl enable crond
#åˆ é™¤å¼€æœºå¯åŠ¨
systemctl disable crond
</code></pre>
<h4 id="ç¼–å†™shellè„šæœ¬">ç¼–å†™shellè„šæœ¬</h4>
<p>æ³¨æ„ï¼šç›®å½•å¿…é¡»ä¸ºğŸ‘ç»å¯¹è·¯å¾„ğŸ‘ã€‚ï¼ˆæ‰§è¡Œå‰è¯·æ³¨æ„è‡ªå·±æ˜¯å¦é…ç½®äº†Javaç¯å¢ƒï¼Œå¹¶ä¸”é…ç½®æˆåŠŸäº†ï¼‰</p>
<pre><code class="language-shell">#åˆ›å»ºshellè„šæœ¬æ–‡ä»¶
vim {ä½ çš„è„šæœ¬æ–‡ä»¶å}.sh

#åœ¨æ–‡ä»¶ä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤

#!/bin/bash
#å†™å…¥ç¯å¢ƒå˜é‡
export LANG=&quot;en_US.UTF-8&quot;
export JAVA_HOME={è¿™é‡Œæ”¾ä½ çš„Javaåœ°å€}
export PATH=$JAVA_HOME/bin:$PATH
export CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar
java -jar {ä½ ä¸Šä¼ çš„JaråŒ…ç›®å½•} &amp;&amp; echo &quot;å¼€å§‹æ‰§è¡Œé¡¹ç›®ï¼&quot;
echo &quot;ã€`date +%Y-%m-%d_%H:%M:%S`ã€‘å®Œæˆï¼&quot;
</code></pre>
<h4 id="æ·»åŠ å®šæ—¶ä»»åŠ¡">æ·»åŠ å®šæ—¶ä»»åŠ¡</h4>
<p>æ‰“å¼€å®šæ—¶ä»»åŠ¡ç¼–è¾‘ï¼š</p>
<pre><code>crontab -e
</code></pre>
<p>åœ¨æ‰“å¼€åçš„æ–‡æœ¬ä¸­ç¼–è¾‘ï¼š</p>
<pre><code>*/1 * * * * {ä½ çš„shellæ–‡ä»¶çš„ç»å¯¹è·¯å¾„} &gt;&gt; {è¦å°†è¾“å‡ºä¿¡æ¯å­˜å‚¨åˆ°æ—¥å¿—æ–‡ä»¶çš„ç›®å½•æ–‡ä»¶}
</code></pre>
<blockquote>
<ul>
<li>
<p>ğŸ‘©â€ğŸ«ğŸ‘©â€ğŸ«<code>{è¦å°†è¾“å‡ºä¿¡æ¯å­˜å‚¨åˆ°æ—¥å¿—æ–‡ä»¶çš„ç›®å½•æ–‡ä»¶}</code>è¿™é‡Œçš„æ„æ€å°±æ˜¯<strong>æ¯æ¬¡æ‰§è¡Œæ—¶å°†shellè„šæœ¬ä¸­çš„è¾“å‡ºéƒ½è¿½åŠ åˆ°è¿™ä¸ªæ–‡ä»¶ä¸‹</strong></p>
</li>
<li>
<p><code>*/1 * * * *</code>è¿™é‡Œè¡¨ç¤ºæ¯éš”1åˆ†é’Ÿå°±æ‰§è¡Œä¸€æ¬¡ï¼Œå…·ä½“ç”¨æ³•å¦‚ä»¥ä¸‹æ‰€ç¤ºï¼š</p>
</li>
</ul>
<p>âš¡ï¸<a href="https://www.e-learn.cn/content/qita/2644597">Crontab-æ˜“å­¦æ•™ç¨‹</a> æˆ–è€… <a href="http://cron.qqe2.com/">Crontabè¡¨è¾¾å¼ç”Ÿæˆ</a>âš¡ï¸</p>
</blockquote>
<h4 id="æŸ¥çœ‹å®šæ—¶ä»»åŠ¡æ‰§è¡ŒçŠ¶æ€">æŸ¥çœ‹å®šæ—¶ä»»åŠ¡æ‰§è¡ŒçŠ¶æ€</h4>
<h5 id="æŸ¥çœ‹ä»»åŠ¡æ—¥å¿—">æŸ¥çœ‹ä»»åŠ¡æ—¥å¿—ï¼š</h5>
<pre><code>tail -f /var/log/cron
</code></pre>
<figure data-type="image" tabindex="2"><img src="https://Yanoona.github.io/post-images/1582792071997.png" alt="" loading="lazy"></figure>
<p>å…¶ä¸­å¦‚<code>Feb 27 15:57:25 hadoop104 crontab[21024]: (hadoop) REPLACE (hadoop)</code>ç­‰ä¿¡æ¯çš„ä½œç”¨ä¸ºï¼ˆå€Ÿå¤§ä½¬ğŸ˜è¯´çš„ï¼‰ï¼š</p>
<blockquote>
<p>Cronç¨‹åºè‡ªå·±çš„æ—¥å¿—ï¼Œåƒæ˜¯Cron daemonåˆšå¯åŠ¨çš„æ—¶å€™æ‰“å°çš„ä¿¡æ¯ï¼Œç±»ä¼¼äºæŠ¥å‘Šç‰ˆæœ¬ä¹‹ç±»çš„ï¼Œè¿™é‡Œè¯´æ­¤ç‰ˆæœ¬çš„crondæ”¯æŒinotifyç‰¹æ€§ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯ä»¥è‡ªåŠ¨ç›‘æµ‹é…ç½®æ–‡ä»¶çš„æ”¹å˜ï¼ˆåˆ©ç”¨OSçš„inotifyæ¥å£ï¼‰</p>
</blockquote>
<p>è€Œ<code>Feb 27 16:00:01 hadoop104 CROND[21454]: (root) CMD (/usr/lib64/sa/sa1 1 1)</code>çš„ä½œç”¨ä¸ºï¼š</p>
<blockquote>
<p>Cronåœ¨æŸä¸ªæ—¶é—´ç‚¹è¿è¡Œäº†æŸä¸ªCrontabé‡ŒCMDï¼Œè¿™é‡Œçš„CMDåå­—å«åšsaï¼Œæ˜¯ç³»ç»Ÿä¿¡æ¯æ”¶é›†çš„åç«¯ï¼Œè¯·å‚è§sar/sa</p>
</blockquote>
<p><code>Feb 27 16:06:01 hadoop104 CROND[21644]: (hadoop) CMD (/usr/java_program/crontab_java.sh &gt;&gt; /usr/java_program/file)</code>è¿™ä¸€ç±»ä¿¡æ¯è¡¨ç¤ºï¼š</p>
<blockquote>
<p>åœ¨è¿™ä¸ªæ—¶é—´æ®µæ‰§è¡Œçš„å®šæ—¶ä»»åŠ¡ã€‚</p>
</blockquote>
<h5 id="æŸ¥çœ‹æ‰§è¡Œäº†çš„å®šæ—¶ä»»åŠ¡ä¿¡æ¯">æŸ¥çœ‹æ‰§è¡Œäº†çš„å®šæ—¶ä»»åŠ¡ä¿¡æ¯</h5>
<p>å› ä¸ºä¹‹å‰åœ¨å®šæ—¶ä»»åŠ¡ç¼–è¾‘æ—¶ï¼Œæˆ‘ä»¬å†™äº†âœï¸<code>{ä½ çš„shellæ–‡ä»¶çš„ç»å¯¹è·¯å¾„} &gt;&gt; {è¦å°†è¾“å‡ºä¿¡æ¯å­˜å‚¨åˆ°æ—¥å¿—æ–‡ä»¶çš„ç›®å½•æ–‡ä»¶}</code>ã€‚æœ¬æ­¥éª¤å°±æ˜¯æŸ¥çœ‹ğŸ‘‰<code>{è¦å°†è¾“å‡ºä¿¡æ¯å­˜å‚¨åˆ°æ—¥å¿—æ–‡ä»¶çš„ç›®å½•æ–‡ä»¶}</code>è¿™ä¸ªæ–‡ä»¶é‡Œçš„ä¿¡æ¯ã€‚</p>
<p>è¿›å…¥åˆ°è¿™ä¸ªç›®å½•ï¼Œå¦‚æˆ‘è¿™é‡Œçš„ /usr/java_program/file æ–‡ä»¶ã€‚</p>
<p>æ‰“å¼€å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè¡¨æ˜ä»»åŠ¡æ‰§è¡ŒæˆåŠŸï¼Œæ²¡æœ‰æŠ¥é”™ã€‚ğŸŒˆğŸŒˆ</p>
<figure data-type="image" tabindex="3"><img src="https://Yanoona.github.io/post-images/1582792045981.png" alt="" loading="lazy"></figure>
<hr>
<h3 id="ä½¿ç”¨æ€»ç»“">ä½¿ç”¨æ€»ç»“</h3>
<ol>
<li>æ‰“åŒ…çš„æ—¶å€™ï¼Œç°åœ¨æœ¬åœ°æµ‹è¯•jaråŒ…èƒ½ä¸èƒ½è¿è¡Œï¼Œä¼šä¸ä¼šæŠ¥å¼‚å¸¸ï¼Œç¡®è®¤æ²¡æœ‰é—®é¢˜ä¹‹åï¼Œæ–¹å¯ä¸Šä¼ ã€‚</li>
<li>å¦‚æœåœ¨é›†ç¾¤ç¯å¢ƒä¸‹è®¾ç½®å®šæ—¶ä»»åŠ¡ï¼Œæœ€å¥½å…ˆç¡®ä¿æ¯å°æœºå­çš„æ—¶åŒºã€æ—¶é—´æ˜¯å¦ä¸€è‡´ã€‚</li>
<li>è·¯å¾„ä½¿ç”¨ç»å¯¹è·¯å¾„ç¼–å†™ã€‚</li>
</ol>
<p>å°±å…ˆè®°å½•è¿™ä¹ˆå¤šäº†ï¼Œè¿˜æ²¡ç¢°åˆ°çš„å¼‚å¸¸å°±ç­‰åˆ°ä»¥åä½¿ç”¨çš„åœ¨è®°å½•ï¼ŒGoodByeï¼</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ä½¿ç”¨axioså‡ºç°çš„è·¨åŸŸé—®é¢˜]]></title>
        <id>https://Yanoona.github.io/zxJ0ci4F1/</id>
        <link href="https://Yanoona.github.io/zxJ0ci4F1/">
        </link>
        <updated>2020-02-20T01:46:38.000Z</updated>
        <summary type="html"><![CDATA[<h3 id="å‰è¨€">å‰è¨€</h3>
<blockquote>
<p>æœ€è¿‘åœ¨ä½¿ç”¨SpringBootå’ŒVueè¿›è¡Œå‰åç«¯åˆ†ç¦»å¼€å‘ğŸ˜Šï¼Œä¸”æµ‹è¯•åŠŸèƒ½æ—¶ï¼Œå‡ºç°äº†æ­¤å¼‚å¸¸ğŸ˜•ï¼š<br>
<code>CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.</code></p>
</blockquote>
]]></summary>
        <content type="html"><![CDATA[<h3 id="å‰è¨€">å‰è¨€</h3>
<blockquote>
<p>æœ€è¿‘åœ¨ä½¿ç”¨SpringBootå’ŒVueè¿›è¡Œå‰åç«¯åˆ†ç¦»å¼€å‘ğŸ˜Šï¼Œä¸”æµ‹è¯•åŠŸèƒ½æ—¶ï¼Œå‡ºç°äº†æ­¤å¼‚å¸¸ğŸ˜•ï¼š<br>
<code>CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.</code></p>
</blockquote>
<!-- more -->
<blockquote>
<p>é€šè¿‡æŸ¥çœ‹ğŸ‘€ç›¸å…³èµ„æ–™åå‘ç°æ˜¯ç”±äºCORSè·¨è¶Šé—®é¢˜é€ æˆçš„ï¼Œå¾—çŸ¥è§£å†³åŠæ³•æ— éæœ‰ä¸¤ç§æ–¹å¼ï¼š<strong>å“åº”å¤´æ·»åŠ å‚æ•°å’Œæ·»åŠ è¿‡æ»¤å™¨ã€‚</strong></p>
</blockquote>
<h3 id="ä»€ä¹ˆæ˜¯cors">ä»€ä¹ˆæ˜¯CORS</h3>
<blockquote>
<p>CORSï¼Œå¸¸è¢«å¤§å®¶ç§°ä¹‹ä¸ºè·¨è¶Šé—®é¢˜ï¼Œå‡†ç¡®çš„å«æ³•æ˜¯<strong>è·¨åŸŸèµ„æºå…±äº«ï¼ˆCORSï¼ŒCross-origin resource sharingï¼‰</strong>ï¼Œæ˜¯W3Cæ ‡å‡†ï¼Œæ˜¯ä¸€ç§æœºåˆ¶ï¼Œå®ƒä½¿ç”¨é¢å¤–çš„HTTPå¤´æ¥å‘Šè¯‰æµè§ˆå™¨Â è®©è¿è¡Œåœ¨ä¸€ä¸ª origin (domain) ä¸Šçš„Webåº”ç”¨è¢«å‡†è®¸è®¿é—®æ¥è‡ªä¸åŒæºæœåŠ¡å™¨ä¸Šçš„æŒ‡å®šçš„èµ„æºã€‚â˜„å½“ä¸€ä¸ªèµ„æºä»ä¸è¯¥èµ„æºæœ¬èº«æ‰€åœ¨çš„æœåŠ¡å™¨ä¸åŒçš„åŸŸæˆ–ç«¯å£è¯·æ±‚ä¸€ä¸ªèµ„æºæ—¶ï¼Œèµ„æºä¼šå‘èµ·ä¸€ä¸ªè·¨åŸŸ HTTP è¯·æ±‚ã€‚</p>
</blockquote>
<h3 id="è§£å†³åŠæ³•">è§£å†³åŠæ³•ğŸ‘¨â€ğŸ”§</h3>
<ul>
<li><strong>ğŸš¶â€â™€ä½¿ç”¨è¿‡æ»¤å™¨</strong></li>
</ul>
<pre><code>@Configuration
public class AccessControlAllowOriginFilter extends WebMvcConfigurerAdapter {
    @Override
    public void addCorsMappings(CorsRegistry registry) {
        registry.addMapping(&quot;/*/**&quot;)
                .allowedOrigins(&quot;http://localhost:8080&quot;)
                .allowedMethods(&quot;GET&quot;, &quot;POST&quot;,&quot;UPDATE&quot;,&quot;DELETE&quot;)
                .allowCredentials(false).maxAge(3600);
    }
}
</code></pre>
<ul>
<li><strong>ğŸ‘«åœ¨éœ€è¦çš„åœ°æ–¹æ·»åŠ <code>CrossOrigin</code>æ³¨è§£</strong></li>
</ul>
<pre><code>@CrossOrigin(origins = &quot;http://192.168.1.97:8080&quot;, maxAge = 3600)
@RequestMapping(&quot;rest_index&quot;)
@RestController
public class IndexController{
</code></pre>
<ul>
<li><strong>ğŸ‘ªæ·»åŠ å“åº”å¤´</strong></li>
</ul>
<blockquote>
<p>åœ¨è¢«è¯·æ±‚èµ„æºä¸­æ·»åŠ å“åº”å¤´ä¿¡æ¯&quot;Access-Control-Allow-Originï¼š*</p>
</blockquote>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Axiosè¿œç¨‹æ¥å£é“¾æ¥æ—¶ï¼ŒæŠ¥404]]></title>
        <id>https://Yanoona.github.io/VOrX9Qjkt/</id>
        <link href="https://Yanoona.github.io/VOrX9Qjkt/">
        </link>
        <updated>2020-02-20T01:40:20.000Z</updated>
        <summary type="html"><![CDATA[<h3 id="å‰è¨€">å‰è¨€</h3>
<blockquote>
<p>åˆšåˆšåœ¨é¡¹ç›®ä¸­ä½¿ç”¨Axiosè¿œç¨‹è°ƒç”¨åç«¯æ¥å£æ—¶ï¼Œå‡ºç°ä»¥ä¸‹å¼‚å¸¸ğŸ˜«ğŸ˜«ï¼š<br>
<code>Uncaught (in promise) Error: Request failed with status code 404</code></p>
</blockquote>
]]></summary>
        <content type="html"><![CDATA[<h3 id="å‰è¨€">å‰è¨€</h3>
<blockquote>
<p>åˆšåˆšåœ¨é¡¹ç›®ä¸­ä½¿ç”¨Axiosè¿œç¨‹è°ƒç”¨åç«¯æ¥å£æ—¶ï¼Œå‡ºç°ä»¥ä¸‹å¼‚å¸¸ğŸ˜«ğŸ˜«ï¼š<br>
<code>Uncaught (in promise) Error: Request failed with status code 404</code></p>
</blockquote>
<!-- more -->
<h3 id="è§£å†³æ–¹æ³•">è§£å†³æ–¹æ³•</h3>
<p>å°†é¡¹ç›®ä¸­çš„åŸAxiosæ–¹æ³•æ”¹é€ ğŸ‘¨â€ğŸ”§å¦‚ä»¥ä¸‹ä»£ç æ‰€ç¤ºğŸ‘‡ï¼š<br>
<strong>æ”¹é€ å‰ï¼š</strong></p>
<pre><code> axios.post({
          url: &quot;è¿™é‡Œæ˜¯è¯·æ±‚çš„çš„URL&quot;,
          timeout: 10000,
          //ä¸å¸¦Cokkie
          withCredentials: false,
          headers: {
            &quot;Content-Type&quot;: &quot;application/x-www-form-urlencoded&quot;
          },
          data: {
            &quot;userName&quot;: this.username,
            &quot;passWord&quot;: this.password
          }
        }).then((res) =&gt; {
          console.log(res);
          if (res.data.status == 0) {
            this.$Message.info(&quot;å¾—åˆ°ä¿¡æ¯&quot;);
          } else {
            this.$Message.warning(&quot;æœªå¾—åˆ°ä¿¡æ¯&quot;);
          }
        })
</code></pre>
<p><strong>æ”¹é€ åï¼š</strong></p>
<pre><code>var instance = axios.create({headers: {'content-type': 'application/x-www-form-urlencoded'}});
        instance.post(`è¿™é‡Œæ˜¯è¯·æ±‚çš„çš„URL`, params).then((res) =&gt; {
          console.log(res);
        });
</code></pre>
<p>ä¿®æ”¹å®Œåå°±å¯ä»¥æˆåŠŸé“¾æ¥äº†ğŸ‘ã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ä½¿ç”¨Iviewæ‰‹è„šæ¶æ­å»ºé¡¹ç›®å¼‚å¸¸]]></title>
        <id>https://Yanoona.github.io/Y72Yd1hiG/</id>
        <link href="https://Yanoona.github.io/Y72Yd1hiG/">
        </link>
        <updated>2020-02-20T01:37:08.000Z</updated>
        <summary type="html"><![CDATA[<h4 id="å‡ºç°å¼‚å¸¸">å‡ºç°å¼‚å¸¸</h4>
<blockquote>
<p>åˆšåˆšåœ¨ä½¿ç”¨iviewæ‰‹è„šæ¶æ­å»ºé¡¹ç›®å®Œæˆåï¼Œæƒ³ç€å°è¯•å¯åŠ¨é¡¹ç›®çœ‹çœ‹ï¼Œç»“æœæ§åˆ¶å°æŠ¥å‡ºäº†<code>TypeError [ERR_INVALID_CALLBACK]: Callback must be a function</code>å¼‚å¸¸ğŸ˜Ÿã€‚</p>
</blockquote>
]]></summary>
        <content type="html"><![CDATA[<h4 id="å‡ºç°å¼‚å¸¸">å‡ºç°å¼‚å¸¸</h4>
<blockquote>
<p>åˆšåˆšåœ¨ä½¿ç”¨iviewæ‰‹è„šæ¶æ­å»ºé¡¹ç›®å®Œæˆåï¼Œæƒ³ç€å°è¯•å¯åŠ¨é¡¹ç›®çœ‹çœ‹ï¼Œç»“æœæ§åˆ¶å°æŠ¥å‡ºäº†<code>TypeError [ERR_INVALID_CALLBACK]: Callback must be a function</code>å¼‚å¸¸ğŸ˜Ÿã€‚</p>
</blockquote>
<!-- more -->
<pre><code>TypeError [ERR_INVALID_CALLBACK]: Callback must be a function
    at maybeCallback (fs.js:128:9)
    at Object.write (fs.js:535:14)
    at G:\iviewEnd\webpack.prod.config.js:10:8
    at FSReqWrap.args [as oncomplete] (fs.js:140:20)
</code></pre>
<h4 id="è§£å†³å¼‚å¸¸">è§£å†³å¼‚å¸¸</h4>
<blockquote>
<p>åœ¨å¼‚å¸¸é”™è¯¯ä¸­å®šä½åˆ°æ‰€å‘ç°å¼‚å¸¸çš„è·¯å¾„ğŸ˜ƒï¼Œå¦‚æˆ‘è¿™é‡Œçš„ <strong><code>G:\iviewEnd\webpack.prod.config.js:10:8</code></strong></p>
</blockquote>
<pre><code>fs.open('./src/config/env.js', 'w', function (err, fd) {
    const buf = 'export default &quot;production&quot;;';
    //fs.write(fd, buf, 0, buf.length, 0, function (err, written, buffer){});
    //å°†ä¸Šé¢è¿™ä¸€è¡Œä¿®æ”¹ä¸º
    fs.write(fd, buf, 0, 'utf-8', function(err, written, buffer) {});
});
</code></pre>
<p>ä¿å­˜å†æ¬¡è¿è¡Œ <strong>npm run dev</strong> å³å¯å¯åŠ¨é¡¹ç›®ğŸ‘ã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Sqoopçš„å®‰è£…å’Œä½¿ç”¨]]></title>
        <id>https://Yanoona.github.io/vqAakgQmf/</id>
        <link href="https://Yanoona.github.io/vqAakgQmf/">
        </link>
        <updated>2020-02-19T07:27:57.000Z</updated>
        <summary type="html"><![CDATA[<h2 id="æ¦‚è¿°">ğŸ˜€æ¦‚è¿°</h2>
<p>Sqoop æ˜¯ apache æ——ä¸‹ä¸€æ¬¾â€œHadoop å’Œå…³ç³»æ•°æ®åº“æœåŠ¡å™¨ä¹‹é—´ä¼ é€æ•°æ®â€çš„å·¥å…·ã€‚<br>
æ ¸å¿ƒçš„åŠŸèƒ½æœ‰ä¸¤ä¸ªï¼šå¯¼å…¥ã€å¯¼å‡º<br>
æœ¬æ–‡æ¡£ç”¨äºè®°å½• Sqoopçš„å®‰è£…å’Œä½¿ç”¨ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<h2 id="æ¦‚è¿°">ğŸ˜€æ¦‚è¿°</h2>
<p>Sqoop æ˜¯ apache æ——ä¸‹ä¸€æ¬¾â€œHadoop å’Œå…³ç³»æ•°æ®åº“æœåŠ¡å™¨ä¹‹é—´ä¼ é€æ•°æ®â€çš„å·¥å…·ã€‚<br>
æ ¸å¿ƒçš„åŠŸèƒ½æœ‰ä¸¤ä¸ªï¼šå¯¼å…¥ã€å¯¼å‡º<br>
æœ¬æ–‡æ¡£ç”¨äºè®°å½• Sqoopçš„å®‰è£…å’Œä½¿ç”¨ã€‚</p>
<!-- more -->
<blockquote>
<p>å»ºè®®ğŸ—£<code>å…ˆé…ç½®å¥½Hadoopçš„JobHistoryèŠ‚ç‚¹</code>ï¼Œä»¥ä¾¿äºåœ¨Webä¸­çš„Yarnç•Œé¢æŸ¥çœ‹MapReduceä»»åŠ¡æ—¥å¿—ä¿¡æ¯ã€‚</p>
</blockquote>
<h2 id="sqoopå®‰è£…">ğŸ˜ƒSqoopå®‰è£…</h2>
<h3 id="1å‰ææ¦‚è¿°">1.å‰ææ¦‚è¿°</h3>
<blockquote>
<ul>
<li><strong>Sqoopå°±æ˜¯ä¸€ä¸ªå·¥å…·ï¼Œ åªéœ€è¦åœ¨ä¸€ä¸ªèŠ‚ç‚¹ä¸Šè¿›è¡Œå®‰è£…å³å¯ã€‚</strong></li>
</ul>
<ul>
<li><strong>ä½ å®‰è£…çš„Sqoopè½¯ä»¶çš„èŠ‚ç‚¹ä¸€å®šè¦åŒ…å«ä½ è¦ä½¿ç”¨çš„é›†ç¾¤æˆ–è€…è½¯ä»¶ç³»ç»Ÿçš„å®‰è£…åŒ…</strong></li>
</ul>
</blockquote>
<h3 id="2-è½¯ä»¶ä¸‹è½½">2. è½¯ä»¶ä¸‹è½½</h3>
<p>ä¸‹è½½åœ°å€ï¼šâš¡ï¸<a href="http://mirrors.hust.edu.cn/apache/sqoop/">ç‚¹å‡»æ­¤å¤„æ‰“å¼€Sqoopä¸‹è½½é“¾æ¥</a>âš¡ï¸</p>
<blockquote>
<p>æ³¨æ„ğŸ‘‡ï¼š</p>
<ol>
<li>
<p>ä¸‹è½½<code>sqoop-xx.bin__xx.tar.gz</code>çš„å®‰è£…å‹ç¼©åŒ…ã€‚</p>
</li>
<li>
<p>Sqoop 1 å’ŒSqoop 2ä¸å…¼å®¹ï¼Œä¸”ç»å¤§éƒ¨åˆ†ä¼ä¸šæ‰€ä½¿ç”¨çš„Sqoopçš„ç‰ˆæœ¬æ˜¯ Sqoop 1ã€‚</p>
<p>â€‹	1.4.7ç‰ˆæœ¬çš„ä¸ºSqoop 1</p>
<p>â€‹	1.99.7ç‰ˆæœ¬çš„ä¸ºSqoop 2</p>
</li>
</ol>
</blockquote>
<h2 id="å®‰è£…">ğŸ˜„å®‰è£…</h2>
<h3 id="1åˆ›å»ºsqoopå®‰è£…ç›®å½•">1.åˆ›å»ºsqoopå®‰è£…ç›®å½•</h3>
<pre><code>mkdir /usr/local/sqoop
</code></pre>
<h3 id="2è§£å‹å®‰è£…åŒ…åˆ°æŒ‡å®šç›®å½•">2.è§£å‹å®‰è£…åŒ…åˆ°æŒ‡å®šç›®å½•</h3>
<p>ä¸Šä¼ â˜ï¸è§£å‹ç¼©å®‰è£…åŒ…åˆ°æŒ‡å®šç›®å½•ï¼ˆæ­¤å¤„è·³è¿‡äº†Ftpä¼ è¾“æ­¥éª¤ï¼‰ã€‚</p>
<p>å› ä¸ºä¹‹å‰hiveåªæ˜¯å®‰è£…åœ¨hadoop1æœºå™¨ä¸Šï¼Œæ‰€ä»¥æˆ‘è¿™é‡ŒSqoopä¹ŸåŒæ ·å®‰è£…åœ¨hadoop1æœºå™¨ä¸Šã€‚ğŸ‘‹</p>
<pre><code>tar -zxvf sqoop-1.4.7.bin__hadoop-2.6.0.tar.gz /usr/local/sqoop
</code></pre>
<h3 id="3ä¿®æ”¹é…ç½®æ–‡ä»¶">3.ä¿®æ”¹é…ç½®æ–‡ä»¶</h3>
<ol>
<li>
<p>è¿›å…¥åˆ° conf æ–‡ä»¶å¤¹ä¸­ï¼Œå¤åˆ¶sqoop-env-template.shï¼Œå¹¶å°†å…¶ä¿®æ”¹ä¸ºsqoop-env.sh</p>
<pre><code>cp sqoop-env-template.sh sqoop-env.sh
</code></pre>
</li>
<li>
<p>ä¿®æ”¹sqoop-env.sh</p>
<pre><code>vi sqoop-env.sh
</code></pre>
<pre><code>export HADOOP_MAPRED_HOME=/usr/local/hadoop/hadoop-2.9.2			#Hadoopçš„MapReduceå®‰è£…è·¯å¾„
export HADOOP_COMMON_HOME=/usr/local/hadoop/hadoop-2.9.2			#Hadoopçš„Commonå®‰è£…è·¯å¾„
export HIVE_HOME=/usr/local/hive/hive							  #Hiveå®‰è£…è·¯å¾„
</code></pre>
<p>ğŸ™„ä¸ºä»€ä¹ˆåœ¨sqoop-env.sh æ–‡ä»¶ä¸­ä¼šè¦æ±‚åˆ†åˆ«è¿›è¡Œ commonå’Œmapreduceçš„é…ç½®å‘¢ï¼Ÿï¼Ÿï¼Ÿ</p>
<blockquote>
<p>ğŸ™‹åœ¨apacheçš„hadoopçš„å®‰è£…ä¸­ï¼›å››å¤§ç»„ä»¶éƒ½æ˜¯å®‰è£…åœ¨åŒä¸€ä¸ªhadoop_homeä¸­çš„</p>
<p>ğŸ™‹â€â™‚ä½†æ˜¯åœ¨CDH, HDPä¸­ï¼Œ è¿™äº›ç»„ä»¶éƒ½æ˜¯å¯é€‰çš„ã€‚</p>
<p>ğŸ™‹åœ¨å®‰è£…hadoopçš„æ—¶å€™ï¼Œå¯ä»¥é€‰æ‹©æ€§çš„åªå®‰è£…HDFSæˆ–è€…YARNï¼Œ</p>
<p>ğŸ™‹â€â™‚CDH,HDPåœ¨å®‰è£…hadoopçš„æ—¶å€™ï¼Œä¼šæŠŠHDFSå’ŒMapReduceæœ‰å¯èƒ½åˆ†åˆ«å®‰è£…åœ¨ä¸åŒçš„åœ°æ–¹ã€‚</p>
</blockquote>
</li>
<li>
<p>å°†Mysqlé©±åŠ¨åŒ…æ”¾åˆ° lib æ–‡ä»¶å¤¹ä¸‹</p>
<pre><code>cp mysql-connector-java-5.1.48-bin.jar /usr/local/sqoop/sqoop-1.4.7/lib/
</code></pre>
</li>
<li>
<p>é…ç½®ç¯å¢ƒå˜é‡</p>
<pre><code>vi /etc/profile
</code></pre>
<pre><code>#åœ¨æœ«å°¾å¤„æ·»åŠ ä»¥ä¸‹è¡Œ
export SQOOP_HOME=/usr/local/sqoop/sqoop-1.4.7
export PATH=${PATH}:${SQOOP_HOME}/bin
</code></pre>
<pre><code>#ä½¿æ–‡ä»¶ç”Ÿæ•ˆ
source /etc/profile
</code></pre>
</li>
<li>
<p>éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸğŸ‘¨â€ğŸ”§</p>
<pre><code>sqoop version
</code></pre>
</li>
</ol>
<h2 id="sqoopçš„åŸºæœ¬å‘½ä»¤">ğŸ˜Sqoopçš„åŸºæœ¬å‘½ä»¤</h2>
<pre><code>#æŸ¥çœ‹å‘½ä»¤
sqoop help

#è¿è¡Œç»“æœï¼š
usage: sqoop COMMAND [ARGS]

Available commands:
							#ç”Ÿæˆä¸æ•°æ®åº“è®°å½•äº¤äº’çš„ä»£ç 
  codegen            Generate code to interact with database records
  							#å°†è¡¨å®šä¹‰å¯¼å…¥åˆ°Hiveä¸­
  create-hive-table  Import a table definition into Hive
  							#è®¡ç®—ä¸€ä¸ªSQLè¯­å¥å¹¶æ˜¾ç¤ºç»“æœï¼Œå¯ä»¥ç”¨æ¥æ ¡éªŒä¸‹importçš„æŸ¥è¯¢æ¡ä»¶æ˜¯å¦æ­£ç¡®ã€‚
  eval               Evaluate a SQL statement and display the results
  							#å°†HDFSç›®å½•å¯¼å‡ºåˆ°æ•°æ®åº“è¡¨
  export             Export an HDFS directory to a database table
  							#å¯ç”¨å‘½ä»¤åˆ—è¡¨
  help               List available commands
  							#å°†è¡¨ä»æ•°æ®åº“å¯¼å…¥åˆ°HDFS
  import             Import a table from a database to HDFS
  							#å°†æ‰€æœ‰è¡¨ä»æ•°æ®åº“å¯¼å…¥åˆ°HDFS
  import-all-tables  Import tables from a database to HDFS
  							#ä»å¤§å‹æœºæœåŠ¡å™¨å¯¼å…¥æ•°æ®é›†åˆ°HDFS
  import-mainframe   Import datasets from a mainframe server to HDFS
  							#å°†Importä»»åŠ¡ä¿å­˜ä¸ºjobï¼Œå¯ä»¥ç†è§£ä¸ºèµ·äº†ä¸ªåˆ«åï¼Œè¿™æ ·æ–¹ä¾¿çš„Sqoopä»»åŠ¡çš„ç®¡ç†ã€‚
  job                Work with saved jobs
  							#åˆ—å‡ºæœåŠ¡å™¨ä¸Šå¯ç”¨çš„æ•°æ®åº“
  list-databases     List available databases on a server
  							#åˆ—å‡ºæ•°æ®åº“ä¸Šå¯ç”¨çš„bè¡¨
  list-tables        List available tables in a database
  							#å¢é‡å¯¼å…¥çš„åˆå¹¶ç»“æœ
  merge              Merge results of incremental imports
  							#è¿è¡Œä¸€ä¸ªç‹¬ç«‹çš„Sqoop metastore
  metastore          Run a standalone Sqoop metastore
  							#æ˜¾ç¤ºsqoopçš„ç‰ˆæœ¬
  version            Display version information

See 'sqoop help COMMAND' for information on a specific command.

</code></pre>
<h2 id="sqoopçš„åŸºæœ¬ä½¿ç”¨">ğŸ˜†Sqoopçš„åŸºæœ¬ä½¿ç”¨</h2>
<blockquote>
<p><strong>æ‰§è¡ŒSqoopå‘½ä»¤æ—¶ï¼Œè¯·ç™»å½•å¯¹hadoopæœ‰æ“ä½œæƒé™çš„ç³»ç»Ÿç”¨æˆ·ğŸ¤´ï¼Œå¦åˆ™ä¼šæŠ¥æ²¡æœ‰æƒé™ç­‰é”™è¯¯ã€‚</strong></p>
<p>ä»¥ä¸‹å‘½ä»¤ä¸­å‡ºç°çš„<code>\</code>ä¸ºè¿æ¥ç¬¦ï¼Œè¿æ¥ä¸‹ä¸€å¥å‘½ä»¤ï¼Œåœ¨å®é™…æ“ä½œä¸­ä¹Ÿå¯ä½¿ç”¨ã€‚</p>
</blockquote>
<hr>
<h4 id="åˆ—å‡ºmysqlä¸­æœ‰å“ªäº›æ•°æ®åº“">åˆ—å‡ºMysqlä¸­æœ‰å“ªäº›æ•°æ®åº“</h4>
<pre><code>sqoop list-databases \
-connect jdbc:mysql://localhost:3306/ \
-username root \
-password root
</code></pre>
<hr>
<h4 id="åˆ—å‡ºmysqlä¸­æŒ‡å®šæ•°æ®åº“çš„è¡¨">åˆ—å‡ºMysqlä¸­æŒ‡å®šæ•°æ®åº“çš„è¡¨</h4>
<pre><code>sqoop list-tables \
-connect jdbc:mysql://localhost:3306/sqoop_test \
-username root \
-password root
</code></pre>
<hr>
<h4 id="åˆ›å»ºä¸€å¼ è·Ÿsqoop_teståº“ä¸­userè¡¨ç»“æ„ä¸€æ ·çš„hiveè¡¨hive_user">åˆ›å»ºä¸€å¼ è·Ÿsqoop_teståº“ä¸­userè¡¨ç»“æ„ä¸€æ ·çš„hiveè¡¨hive_user</h4>
<blockquote>
<p>æ­¤å¤„éœ€è¦å°† hive ä¸­çš„<code>hive-common-2.3.6.jar</code>åŒ…å¤åˆ¶åˆ° sqoop çš„ lib æ–‡ä»¶å¤¹ä¸‹ï¼Œå¦åˆ™ä¼šæŠ¥ <code>java.lang.ClassNotFoundException: org.apache.hadoop.hive.conf.HiveConf</code></p>
</blockquote>
<pre><code>sqoop create-hive-table \
-connect jdbc:mysql://localhost:3306/sqoop_test \
-username root \
-password root \
-table user \
-hive-table hive_user					#è¦åˆ›å»ºçš„hiveè¡¨å
</code></pre>
<p>åˆ›å»ºå®Œåå¯ç™»å½•hiveæŸ¥çœ‹ï¼Œä»¥ä¸‹ä¸ºæ‰€æ‰§è¡Œçš„å‘½ä»¤ï¼š</p>
<pre><code>hive												#ç™»å½•Hive
show databases;								#æŸ¥çœ‹æ•°æ®åº“
use default;									#é€‰æ‹©æ•°æ®åº“,ç”±äºä¸Šé¢æ²¡æœ‰æŒ‡å®šæ•°æ®åº“ï¼Œæ‰€ä»¥åœ¨é»˜è®¤æ•°æ®åº“ä¸­åˆ›å»ºäº†è¡¨
show tables;									#åˆ—å‡ºDefaultæ•°æ®åº“ä¸­çš„æ‰€æœ‰è¡¨
</code></pre>
<hr>
<h4 id="mysqlhdfsä»mysqlå¯¼å…¥åˆ°hdfs">Mysqlâ†’HDFSï¼šä»Mysqlå¯¼å…¥åˆ°HDFS</h4>
<pre><code>sqoop import \
-connect jdbc:mysql://{æ•°æ®åº“IP}:3306/{æ•°æ®åº“}?autoReconnect=true \		  #æ•°æ®åº“è¿æ¥
-driver com.mysql.jdbc.Driver	\														#æ•°æ®åº“é©±åŠ¨
-username root	\																			#æ•°æ®åº“ç”¨æˆ·å
-password root	\																			#æ•°æ®åº“å¯†ç 
-table user	\																				#æ•°æ®åº“è¡¨
-target-dir	/user/admin/temp/sqoop-import	\										#å¯¼å…¥åˆ°HDFSçš„ç›®æ ‡ç›®å½•
-fields-terminated-by ','	\															#æŒ‰ä»€ä¹ˆåˆ†éš”
-m 1																							#MapReduceæ‰§è¡Œä»»åŠ¡æ•°
</code></pre>
<p>æ‹“å±•å‘½ä»¤ï¼ˆåœ¨å¯¼å‡ºä¸­åŒæ ·é€‚ç”¨ï¼‰ï¼š</p>
<pre><code>-where &quot;name = 'ZhangSan'&quot;																#å¸¦Whereæ¡ä»¶å¯¼å…¥
-columns &quot;name&quot; 																			#å¯¼å…¥æŒ‡å®šåˆ—
#è‡ªå®šä¹‰SqlæŸ¥è¯¢ï¼Œå¯¼å…¥æŸ¥è¯¢åæ•°æ®
-query 'select * from mysql.help_keyword where $CONDITIONS and name = &quot;STRING&quot;' 				
-split-by â€˜idâ€™																				#ä¸»é”®
-incremental  append  																	#å¢é‡å¯¼å…¥
</code></pre>
<blockquote>
<p>åœ¨éœ€è¦æŒ‰ç…§è‡ªå®šä¹‰SQLè¯­å¥å¯¼å‡ºæ•°æ®åˆ°HDFSçš„æƒ…å†µä¸‹ğŸ‘‡ğŸ‘‡ï¼š</p>
<ul>
<li>å¼•å·é—®é¢˜ï¼Œè¦ä¹ˆå¤–å±‚ä½¿ç”¨å•å¼•å·ï¼Œå†…å±‚ä½¿ç”¨åŒå¼•å·ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi><mi>O</mi><mi>N</mi><mi>D</mi><mi>I</mi><mi>T</mi><mi>I</mi><mi>O</mi><mi>N</mi><mi>S</mi><mi mathvariant="normal">çš„</mi></mrow><annotation encoding="application/x-tex">CONDITIONSçš„</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord cjk_fallback">çš„</span></span></span></span>ç¬¦å·ä¸ç”¨è½¬ä¹‰ï¼Œ è¦ä¹ˆå¤–å±‚ä½¿ç”¨åŒå¼•å·ï¼Œé‚£ä¹ˆå†…å±‚ä½¿ç”¨å•å¼•å·ï¼Œç„¶å<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi><mi>O</mi><mi>N</mi><mi>D</mi><mi>I</mi><mi>T</mi><mi>I</mi><mi>O</mi><mi>N</mi><mi>S</mi><mi mathvariant="normal">çš„</mi></mrow><annotation encoding="application/x-tex">CONDITIONSçš„</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord cjk_fallback">çš„</span></span></span></span>ç¬¦å·éœ€è¦è½¬ä¹‰ã€‚</li>
<li>è‡ªå®šä¹‰çš„SQLè¯­å¥ä¸­å¿…é¡»å¸¦æœ‰WHERE $CONDITIONS</li>
</ul>
</blockquote>
<hr>
<h4 id="hdfsmysqlä»hdfsä¸­å¯¼å‡ºåˆ°mysql">HDFSâ†’Mysqlï¼šä»HDFSä¸­å¯¼å‡ºåˆ°Mysql</h4>
<pre><code>sqoop export \
-connect jdbc:mysql://{æ•°æ®åº“IP}:3306/{æ•°æ®åº“}?autoReconnect=true \			 #æ•°æ®åº“è¿æ¥
-driver com.mysql.jdbc.Driver	\															#æ•°æ®åº“é©±åŠ¨
-username root	\																				#æ•°æ®åº“ç”¨æˆ·å
-password root	\																				#æ•°æ®åº“å¯†ç 
-table sqoop_test	\																			#æ•°æ®åº“è¡¨
-export-dir	/user/admin/temp/sqoop-import	\											#å¯¼å‡ºHDFSçš„ç›®æ ‡ç›®å½•åˆ°Mysql
-fields-terminated-by ','	\																#æŒ‰ä»€ä¹ˆåˆ†éš”
-split-by id	\																				#ä¸»é”®
-m 1																								#MapReduceæ‰§è¡Œä»»åŠ¡æ•°
</code></pre>
<blockquote>
<p>ğŸ‘¨â€ğŸ«è®°å½•é—®é¢˜ğŸ‘©â€ğŸ«ï¼š</p>
<ul>
<li>è‹¥â­ï¸æ•°æ®åº“è¿æ¥æˆ–å¯†ç å¸¦ä¸Šäº† <code>$</code> ç¬¦å·â­ï¸ï¼Œåˆ™ä¼šå¯¼è‡´åé¢è¯­æ³•æŠ¥<strong>æœªæ‰¾åˆ°å‘½ä»¤é”™è¯¯</strong>ï¼›</li>
<li>æœ‰æ—¶éœ€å¸¦ä¸Š <code>-driver</code>å‘½ä»¤ï¼Œå¦åˆ™<strong>æœ‰å¯èƒ½ä¼š</strong>å¯¼è‡´å‡ºç°æ•°æ®åº“è¿æ¥å¤±è´¥é”™è¯¯ï¼›</li>
<li>å¦‚æœMysqlä¸º8.0çš„ç‰ˆæœ¬ï¼Œéœ€è¦æ›´æ”¹ä¸º8.0é©±åŠ¨åŒ…ï¼š<code>com.mysql.cj.jdbc.Driver</code></li>
<li>æ‰§è¡Œå‘½ä»¤æ—¶å¿…é¡»å¸¦ä¸Š<code>-split-by</code>æˆ–è€…<code>-m 1</code>å‘½ä»¤ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼›</li>
<li><code>-fields-terminated-by</code>å‘½ä»¤è¡¨ç¤º <strong>æ•°æ®åº“ä¸­çš„åˆ—åœ¨å¯¼å…¥æ–‡æœ¬ä¸­æŒ‰ç…§ä»€ä¹ˆå­—ç¬¦åˆ†éš”</strong>ï¼Œå¦‚ä¸Šé¢ä¾‹å­ä¸­çš„ <strong>ï¼Œ</strong>;</li>
</ul>
</blockquote>
<hr>
<h4 id="mysqlhiveä»mysqlå¯¼å…¥åˆ°hiveä¸­">Mysqlâ†’Hiveï¼šä»Mysqlå¯¼å…¥åˆ°Hiveä¸­</h4>
<blockquote>
<p><strong>å¯¼å…¥è¿‡ç¨‹ï¼šå…ˆå¯¼å…¥åˆ° hdfsï¼Œç„¶åå† load è¿›å…¥ hiveğŸ˜Š</strong></p>
<p><strong>æ™®é€šå¯¼å…¥ï¼šæ•°æ®å­˜å‚¨åœ¨Hiveé»˜è®¤çš„defaultåº“ä¸­ï¼Œè¡¨åå°±æ˜¯å¯¹åº”çš„mysqlçš„è¡¨åï¼šğŸ˜œ</strong></p>
</blockquote>
<pre><code>sqoop import   \
--connect jdbc:mysql://localhost:3306/sqoop_test   \			#æ•°æ®åº“è¿æ¥
--username root  \														#æ•°æ®åº“ç”¨æˆ·å
--password root   \														#æ•°æ®åº“å¯†ç 
--table user   \															#æ•°æ®åº“è¡¨
--hive-import \															#å¯¼å…¥è·¯å¾„
-m 1																			#ä»»åŠ¡å¹¶å‘æ•°
</code></pre>
<p>æŸ¥çœ‹ Hive ä¸­çš„æ•°æ®</p>
<pre><code>hadoop fs -cat /user/hive/warehouse/user/part-m-00000			#userå°±æ˜¯è¡¨å
</code></pre>
<p>æ‹“å±•å‘½ä»¤ï¼š</p>
<pre><code>-fields-terminated-by &quot;ï¼Œ&quot;  									#æ•°æ®æŒ‰ä»€ä¹ˆåˆ†éš”
-lines-terminated-by &quot;\n&quot;  									#è¡Œæ•°æŒ‰ä»€ä¹ˆåˆ†éš”
-hive-overwrite 													#æŒ‡å®šè¦†ç›–å¯¼å…¥
-create-hive-table  												#æŒ‡å®šè‡ªåŠ¨åˆ›å»ºhiveè¡¨
-delete-target-dir 												#æŒ‡å®šåˆ é™¤ä¸­é—´ç»“æœæ•°æ®ç›®å½•
-hive-database  mydb_test 										#æŒ‡å®šHiveæ•°æ®åº“
-hive-table new_user												#æŒ‡å®šè¡¨å
-incremental  append  											#å¢é‡å¯¼å…¥
</code></pre>
<blockquote>
<p>å½“æŒ‡å®šHiveæ•°æ®åº“æ—¶ï¼Œå¿…é¡»å…ˆåˆ›å»ºè¯¥æ•°æ®åº“ï¼Œå¦åˆ™ä¼šæŠ¥<code>Database does not exist: xx</code>æ•°æ®åº“ä¸å­˜åœ¨ğŸŒˆã€‚</p>
<p>âš¡ï¸**ä»Hiveå¯¼å‡ºåˆ°Mysqlçš„æ­¥éª¤ å’Œ ä»HDFSå¯¼å‡ºåˆ°Mysqlçš„æ­¥éª¤ ä¸€è‡´ã€‚**âš¡ï¸</p>
</blockquote>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Hadoopåˆ°Mysqlçš„æ•°æ®ä¼ è¾“è®°å½•]]></title>
        <id>https://Yanoona.github.io/NNC7-_gM_/</id>
        <link href="https://Yanoona.github.io/NNC7-_gM_/">
        </link>
        <updated>2020-02-19T06:11:24.000Z</updated>
        <summary type="html"><![CDATA[<h2 id="æ¦‚è¿°">æ¦‚è¿°</h2>
<p>æœ¬æ–‡æ¡£ä¸»è¦è®°å½•ä½¿ç”¨ <code>HIve Load</code> å°† <code>Hadoop</code> ä¸­çš„æ–‡ä»¶ä¿å­˜åˆ° <code>HIve</code> çš„æ•°æ®åº“ä¸­ï¼Œå†å°†å…¶é€šè¿‡ <code>Sqoop export</code> åˆ° <code>Mysql</code> çš„è¯¦ç»†æ­¥éª¤ğŸ™Šï¼›</p>
]]></summary>
        <content type="html"><![CDATA[<h2 id="æ¦‚è¿°">æ¦‚è¿°</h2>
<p>æœ¬æ–‡æ¡£ä¸»è¦è®°å½•ä½¿ç”¨ <code>HIve Load</code> å°† <code>Hadoop</code> ä¸­çš„æ–‡ä»¶ä¿å­˜åˆ° <code>HIve</code> çš„æ•°æ®åº“ä¸­ï¼Œå†å°†å…¶é€šè¿‡ <code>Sqoop export</code> åˆ° <code>Mysql</code> çš„è¯¦ç»†æ­¥éª¤ğŸ™Šï¼›</p>
<!-- more -->
<h2 id="ç¯å¢ƒåŠæµ‹è¯•æ•°æ®è¯´æ˜">ç¯å¢ƒåŠæµ‹è¯•æ•°æ®è¯´æ˜</h2>
<ul>
<li>Hadoop - 2.9.2</li>
<li>CentOS 7.9</li>
<li>Hive 2.3.9</li>
<li>Mysql 8.0</li>
<li>Sqoop 1.4.7</li>
<li>zy_fy_detail        659MB          5,691,514è¡Œ</li>
<li>zy_fy_year          512KB           4,656è¡Œ</li>
<li>zy_fy_yearmonth           59.59MB           516,883è¡Œ</li>
<li>ä»¥ä¸Šè¡¨çš„æ–‡æœ¬é—´éš”ç¬¦ä¸º <code>\001</code></li>
</ul>
<h2 id="å¼€å§‹">å¼€å§‹</h2>
<h3 id="ç¡®è®¤æµ‹è¯•ç¯å¢ƒ">ç¡®è®¤æµ‹è¯•ç¯å¢ƒ</h3>
<ul>
<li>ğŸŒ•ä½¿ç”¨<code>jps</code>æŸ¥çœ‹ Hadoop é›†ç¾¤æ˜¯å¦æ­£å¸¸å¯åŠ¨ï¼ˆåŒ…æ‹¬<code>jobhistory</code>ï¼‰</li>
<li>ğŸŒ–ä½¿ç”¨<code>systemctl status mysqld</code>æŸ¥çœ‹<code>Mysql</code>æ˜¯å¦æ­£å¸¸è¿è¡Œ</li>
<li>ğŸŒ—ç¡®è®¤<code>hive</code>å·²ç»é…ç½®å¥½äº†<code>mysql</code></li>
</ul>
<hr>
<h3 id="å°†æµ‹è¯•æ•°æ®ä¸Šä¼ åˆ°hadoopä¸­">å°†æµ‹è¯•æ•°æ®ä¸Šä¼ åˆ°Hadoopä¸­</h3>
<blockquote>
<p>ä¸Šä¼ æ–‡ä»¶å¯ä»¥è‡ªå·±æ­å»ºftpæœåŠ¡å™¨å®ç°ï¼Œæˆ–è€…ä½¿ç”¨hadoopä¸­çš„ç½‘é¡µä¸Šä¼ åŠŸèƒ½ã€‚ğŸ‘ğŸ‘</p>
</blockquote>
<p><strong>æ­¤å¤„ä½¿ç”¨Hadoopä¸Šä¼ </strong>ï¼š</p>
<p>â€‹		åœ¨æµè§ˆå™¨é™¤è¾“å…¥ http://hadoop1:50070:/ï¼Œ<em>hadoop1</em>ä¸ºæˆ‘è¿™é‡Œçš„<em>NameNode</em>èŠ‚ç‚¹çš„ä¸»æœºåï¼ˆå¦‚è®¿é—®ä¸äº†ï¼Œå¯ä»¥è¯•ä¸‹æ¢æˆIPè®¿é—®ğŸ˜ï¼‰ã€‚ç‚¹å‡» <em>Browse the file system</em> è¿›å…¥ç›®å½•é¡µå¹¶å•å‡»çº¢æ¡†å¤„ä¸Šä¼ æŒ‰é’®ã€‚</p>
<figure data-type="image" tabindex="1"><img src="https://Yanoona.github.io/post-images/1582092792811.png" alt="" loading="lazy"></figure>
<p>å¦‚æœå‡ºç°ä»¥ä¸‹ç±»ä¼¼ä¿¡æ¯ğŸ™„ğŸ™„ï¼ˆå¯ä»¥ç¡®å®šæ˜¯<strong>æƒé™é—®é¢˜</strong>ï¼‰ï¼š</p>
<figure data-type="image" tabindex="2"><img src="https://Yanoona.github.io/post-images/1582092804261.png" alt="" loading="lazy"></figure>
<p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤èµ‹äºˆæƒé™åï¼Œå°±å¯ä»¥è¿›è¡Œä¸Šä¼ â˜ï¸ã€åˆ é™¤ğŸ’€ç­‰æ“ä½œï¼š</p>
<pre><code>hadoop fs -chmod 777 /user/admin/*
</code></pre>
<hr>
<h3 id="åˆ›å»ºæ¥æ”¶æ•°æ®çš„hiveæ•°æ®åº“">åˆ›å»ºæ¥æ”¶æ•°æ®çš„Hiveæ•°æ®åº“</h3>
<p><strong>ğŸ˜‹è¿›å…¥Hiveï¼Œå¹¶åˆ›å»ºæ•°æ®åº“ï¼ˆæ­¤å¤„ç¤ºä¾‹æ•°æ®åº“åï¼šbigdataï¼‰</strong></p>
<pre><code>#è¿›å…¥Hive
hive
#æ˜¾ç¤ºæ•°æ®åº“
show databases;
#åˆ›å»ºæ•°æ®åº“
create database bigdata;
#é€‰æ‹©æ•°æ®åº“
use bigdata;
</code></pre>
<p><strong>ğŸ™åˆ›å»ºå¯è¯†åˆ«å¤šä¸ªåˆ†éš”ç¬¦çš„è¡¨ï¼ˆzy_fy_yearï¼‰</strong></p>
<pre><code> CREATE TABLE `zy_fy_year` (
       `year` varchar(4),
       `SFXM` decimal(4,0),
       `FYMC` varchar(160),
       `FYDJ` decimal(10,4),
       `year_sl` decimal(32,2),
       `year_ZJJE` decimal(34,2)
     )  row format  serde 'org.apache.hadoop.hive.contrib.serde2.MultiDelimitSerDe' with  serdeproperties (&quot;field.delim&quot;=&quot;&amp;*#@&quot;);

</code></pre>
<blockquote>
<p>Hiveåœ¨0.14åŠä»¥åç‰ˆæœ¬æ”¯æŒå­—æ®µçš„å¤šåˆ†éš”ç¬¦ï¼Œå‚è€ƒğŸš€<a href="https://link.jianshu.com/?t=https%3A%2F%2Fcwiki.apache.org%2Fconfluence%2Fdisplay%2FHive%2FMultiDelimitSerDe">https://cwiki.apache.org/confluence/display/Hive/MultiDelimitSerDe</a>ğŸš€</p>
<p>å…³é”®è¯­å¥ä¸ºğŸ‘‰ï¼š<code>row format serde 'org.apache.hadoop.hive.contrib.serde2.MultiDelimitSerDe' with serdeproperties (&quot;field.delim&quot;=&quot;ä½ çš„åˆ†éš”ç¬¦&quot;);</code></p>
<p>å½“åªæœ‰ä¸€ä¸ªåˆ†éš”ç¬¦æ—¶ğŸ‘‰ï¼š<code>row format delimited fields terminated by 'åˆ†éš”ç¬¦'</code></p>
</blockquote>
<p>ğŸ˜<strong>ä½¿ç”¨Hive LoadåŠ è½½HDFSæ–‡ä»¶åˆ°è¡¨ä¸­</strong></p>
<pre><code>#æ­¤å¤„åœ°å€ä¸ºHadoopä¸­zy_fy_year.txtæ–‡ä»¶çš„åœ°å€
load data inpath '/test_data/test_files/zy_fy_year.txt' overwirte into table bigdata.zy_fy_year
#æŸ¥çœ‹æ’å…¥ç»“æœæ˜¯å¦æœ‰é”™
select * from zy_fy_year limit 0,10;
</code></pre>
<figure data-type="image" tabindex="3"><img src="https://Yanoona.github.io/post-images/1582092825986.png" alt="" loading="lazy"></figure>
<hr>
<h3 id="ä½¿ç”¨sqoopå°†hiveä¸­çš„æ•°æ®å¯¼å‡ºåˆ°mysqlä¸­">ğŸ˜‰ä½¿ç”¨Sqoopå°†Hiveä¸­çš„æ•°æ®å¯¼å‡ºåˆ°Mysqlä¸­</h3>
<p><strong>åœ¨Mysqlåˆ›å»ºå¯¼å‡ºæ•°æ®åº“ï¼ˆbigdataï¼‰å’Œè¡¨ï¼ˆzy_fy_yearï¼‰ğŸ¤—</strong></p>
<pre><code>#ç™»å½•mysql
mysql -u root -p
#åˆ›å»ºæ•°æ®åº“
create database bigdata;
#é€‰æ‹©æ•°æ®åº“
use bigdata;
#åˆ›å»ºè¡¨
create table `zy_fy_year` (
  `year` varchar(4) CHARACTER SET utf8mb4 DEFAULT NULL,
  `SFXM` decimal(4,0) NOT NULL COMMENT 'æ”¶è´¹é¡¹ç›®',
  `FYMC` varchar(160) DEFAULT NULL COMMENT 'è´¹ç”¨åç§°',
  `FYDJ` decimal(10,4) NOT NULL COMMENT 'è´¹ç”¨å•ä»·',
  `year_sl` decimal(32,2) DEFAULT NULL COMMENT 'å¹´æ±‡æ€»æ•°é‡',
  `year_ZJJE` decimal(34,2) DEFAULT NULL COMMENT 'æ€»è®¡é‡‘é¢'
) engine=InnoDB default charset=utf8;
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[CentOS 7å®‰è£…å’Œå¸è½½MySql]]></title>
        <id>https://Yanoona.github.io/TeSMMvZK8/</id>
        <link href="https://Yanoona.github.io/TeSMMvZK8/">
        </link>
        <updated>2020-02-19T03:00:11.000Z</updated>
        <summary type="html"><![CDATA[<h2 id="æ¦‚è¿°">ğŸ˜€æ¦‚è¿°</h2>
<p>è®°å½•ä¸€æ¬¡CentOS7å®‰è£…Mysql5.7çš„æ­¥éª¤å’Œå¸è½½Mysqlçš„æ­¥éª¤ã€‚</p>
<h2 id="ç¯å¢ƒè¯´æ˜">ğŸ˜ƒç¯å¢ƒè¯´æ˜</h2>
<p>æœºå™¨ç³»ç»Ÿç‰ˆæœ¬ï¼šCentOS7.9<br>
æ‰€å®‰è£…Mysqlç‰ˆæœ¬ï¼šMySql5.7</p>
]]></summary>
        <content type="html"><![CDATA[<h2 id="æ¦‚è¿°">ğŸ˜€æ¦‚è¿°</h2>
<p>è®°å½•ä¸€æ¬¡CentOS7å®‰è£…Mysql5.7çš„æ­¥éª¤å’Œå¸è½½Mysqlçš„æ­¥éª¤ã€‚</p>
<h2 id="ç¯å¢ƒè¯´æ˜">ğŸ˜ƒç¯å¢ƒè¯´æ˜</h2>
<p>æœºå™¨ç³»ç»Ÿç‰ˆæœ¬ï¼šCentOS7.9<br>
æ‰€å®‰è£…Mysqlç‰ˆæœ¬ï¼šMySql5.7</p>
<!-- more -->
<h2 id="å‡†å¤‡å®‰è£…">ğŸ˜„å‡†å¤‡å®‰è£…</h2>
<p>ç¡®ä¿æœºå™¨ä¸Šå·²å®‰è£…<code>wget</code>,å¦‚æœæ²¡æœ‰å®‰è£…è¿‡å°±ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œå®‰è£…ã€‚</p>
<pre><code>yum -y install wget
</code></pre>
<h2 id="å¼€å§‹å®‰è£…">ğŸ˜å¼€å§‹å®‰è£…</h2>
<h3 id="è¿›å…¥å®˜ç½‘å¤åˆ¶yumæº">è¿›å…¥å®˜ç½‘å¤åˆ¶yumæº</h3>
<figure data-type="image" tabindex="1"><img src="https://Yanoona.github.io/post-images/1582081400516.png" alt="" loading="lazy"></figure>
<p>ç›´æ¥ç‚¹å¼€è¿™ä¸ªåœ°å€å¹¶é€‰æ‹©ç¬¬äºŒä¸ªï¼ˆ<strong>ç¬¬ä¸€ä¸ªé‡Œé¢æ²¡æœ‰MySql5.7ç‰ˆæœ¬çš„ä¸‹è½½</strong>ï¼‰âš¡ï¸ï¼š<a href="https://dev.mysql.com/downloads/repo/yum/">https://dev.mysql.com/downloads/repo/yum/</a>âš¡ï¸</p>
<p>ç‚¹è¿›å»ä¹‹åï¼Œå³å‡»è¶…é“¾æ¥æ–‡å­—<strong>No thanks, just start my download.</strong>ï¼Œå†ç‚¹å‡»<strong>å¤åˆ¶é“¾æ¥åœ°å€</strong>å³å¯ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br>
<img src="https://Yanoona.github.io/post-images/1582081448581.png" alt="" loading="lazy"></p>
<hr>
<h3 id="ä¸‹è½½å’Œå®‰è£…yumæº">ä¸‹è½½å’Œå®‰è£…yumæº</h3>
<p>åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œä¸‹è½½å‘½ä»¤ğŸ‘‡ï¼š</p>
<pre><code>wget https://dev.mysql.com/get/mysql80-community-release-el7-3.noarch.rpm
</code></pre>
<p>è¿è¡Œåç»§ç»­è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p>
<pre><code>rpm -ivh mysql80-community-release-el7-3.noarch.rpm
</code></pre>
<hr>
<h3 id="ä¿®æ”¹yumæºé»˜è®¤å®‰è£…çš„ç‰ˆæœ¬">ä¿®æ”¹yumæºé»˜è®¤å®‰è£…çš„ç‰ˆæœ¬</h3>
<p>ğŸ‘´è¿è¡ŒæŸ¥çœ‹å¯å®‰è£…çš„mysqlçš„å‘½ä»¤ï¼š</p>
<pre><code>yum repolist all| grep mysql
</code></pre>
<figure data-type="image" tabindex="2"><img src="https://Yanoona.github.io/post-images/1582081748024.png" alt="" loading="lazy"></figure>
<p>å¯ä»¥çœ‹å‡ºé»˜è®¤æ˜¯å¯ç”¨çš„mysql8.0ï¼Œ5.7æ˜¯å…³é—­çš„ã€‚</p>
<p>æ¥ç€è¿è¡Œä¿®æ”¹yumé…ç½®âš¡ï¸ï¼ˆenabled=1 æƒ³è¦å®‰è£…å“ªä¸ªç‰ˆæœ¬å°±åœ¨å“ªä¸ªç‰ˆæœ¬çš„åé¢æŠŠ0æ¢æˆ1ï¼Œå› ä¸ºé»˜è®¤æ˜¯æœ€æ–°ç‰ˆï¼Œæ‰€ä»¥éœ€è¦æŠŠæœ€æ–°ç‰ˆçš„1æ¢æˆ0ï¼Œ5.7çš„æ¢ä¸º1ï¼‰âš¡ï¸å‘½ä»¤ï¼š</p>
<pre><code>vim /etc/yum.repos.d/mysql-community.repo
</code></pre>
<figure data-type="image" tabindex="3"><img src="https://Yanoona.github.io/post-images/1582081761005.png" alt="" loading="lazy"></figure>
<p>ä¿®æ”¹å®Œæˆåå†è¿è¡Œä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹æ˜¯å¦å·²ç»ç”Ÿæ•ˆï¼š</p>
<pre><code>yum repolist all| grep mysql
</code></pre>
<figure data-type="image" tabindex="4"><img src="https://Yanoona.github.io/post-images/1582081772383.png" alt="" loading="lazy"></figure>
<p>å¯ä»¥çœ‹åˆ°é…ç½®æ–‡ä»¶å·²ç»ç”Ÿæ•ˆï¼Œæ¥ä¸‹æ¥ä½¿ç”¨yumå®‰è£…MySqlã€‚</p>
<hr>
<h3 id="ä½¿ç”¨yumå®‰è£…mysql">ä½¿ç”¨yumå®‰è£…MySql</h3>
<p>è¿è¡Œå®‰è£…å‘½ä»¤ğŸ‘‡ï¼š</p>
<pre><code>yum install -y mysql-community-server
</code></pre>
<figure data-type="image" tabindex="5"><img src="https://Yanoona.github.io/post-images/1582081783832.png" alt="" loading="lazy"></figure>
<p><strong>ç­‰å¾…å®‰è£…å®Œæˆå³å¯ï¼ğŸ‘€</strong></p>
<h2 id="mysqlé…ç½®">ğŸ˜†MySQLé…ç½®</h2>
<h3 id="åˆå§‹é…ç½®">åˆå§‹é…ç½®</h3>
<h4 id="å¯åŠ¨mysqlæœåŠ¡">ğŸ¤”å¯åŠ¨MySQLæœåŠ¡</h4>
<pre><code>#å¯åŠ¨
systemctl start mysqld
#æŸ¥çœ‹çŠ¶æ€
systemctl status mysqld
#è®¾ç½®å¼€æœºè‡ªå¯
systemctl enable mysqld
</code></pre>
<h4 id="æŸ¥çœ‹mysqlçš„åˆå§‹å¯†ç ">ğŸ‘€æŸ¥çœ‹MySQLçš„åˆå§‹å¯†ç </h4>
<blockquote>
<p>åˆå§‹å¯†ç åªæœ‰åœ¨ç¬¬ä¸€æ¬¡å®‰è£…æˆ–è€…å®Œå…¨å¸è½½åå®‰è£…æ‰ä¼šæœ‰ã€‚</p>
</blockquote>
<pre><code>grep 'password' /var/log/mysqld.log
</code></pre>
<figure data-type="image" tabindex="6"><img src="https://Yanoona.github.io/post-images/1582081794593.png" alt="" loading="lazy"></figure>
<p>å…¶ä¸­çš„ğŸ‘‰<code>.trj4redlL!</code>ğŸ‘ˆä¸ºåˆå§‹å¯†ç ï¼Œä½¿ç”¨å…¶ç™»å½•MySQLå³å¯ã€‚</p>
<h4 id="ä¿®æ”¹åˆå§‹å¯†ç ">ä¿®æ”¹åˆå§‹å¯†ç </h4>
<blockquote>
<p>æ³¨æ„ï¼šMySQL5.7é»˜è®¤å¯†ç ç­–ç•¥è¦æ±‚å¯†ç â­ï¸å¿…é¡»æ˜¯<strong>å¤§å°å†™å­—æ¯æ•°å­—ç‰¹æ®Šå­—æ¯</strong>çš„ç»„åˆâ­ï¸ï¼Œè‡³å°‘8ä½</p>
</blockquote>
<pre><code>#ä¿®æ”¹å¯†ç 
ALTER USER 'root'@'localhost' IDENTIFIED BY 'Root123@';
</code></pre>
<h4 id="è®¾ç½®ç®€å•å¯†ç ">è®¾ç½®ç®€å•å¯†ç </h4>
<p>ä¿®æ”¹MySQLå¯†ç ç­–ç•¥ï¼Œå¹¶è®¾ç½®ç®€å•å¯†ç è¿›è¡Œè®¿é—®ğŸ™ˆğŸ™ˆã€‚</p>
<pre><code>#æŸ¥çœ‹MySQLå¯†ç ç­–ç•¥
show variables like 'validate_password%';
#è®¾ç½®å…¨å±€éªŒè¯å¯†ç ç­–ç•¥
set global validate_password_policy=low;
#è®¾ç½®å…¨å±€éªŒè¯å¯†ç æ··åˆæƒ…å†µè®¡æ•°
set global validate_password_mixed_case_count=0;
#è®¾ç½®å…¨å±€éªŒè¯å¯†ç ç‰¹æ®Šçš„å­—ç¬¦è®¡æ•°
set global validate_password_special_char_count=0;
#è®¾ç½®å…¨é›†éªŒè¯å¯†ç é•¿åº¦
set global validate_password_length=4;
</code></pre>
<p>ä¿®æ”¹å¯†ç å¹¶èµ‹äºˆç”¨æˆ·æƒé™ï¼ˆè®¾ç½®å¯è¿œç¨‹è®¿é—®ğŸ¤–ï¼‰ã€‚</p>
<pre><code>#ä¿®æ”¹å¯†ç 
ALTER USER 'root'@'localhost' IDENTIFIED BY 'root';

grant all privileges on *.* to 'root'@'%' identified by 'root' with grant option;
</code></pre>
<p>åˆ·æ–°æƒé™ğŸ™‰ã€‚</p>
<pre><code>flush privileges;
</code></pre>
<hr>
<h3 id="æ‹“å±•é…ç½®">æ‹“å±•é…ç½®</h3>
<h4 id="ä¿®æ”¹mysqlå­—ç¬¦é›†ä½¿å…¶æ”¯æŒä¸­æ–‡">ä¿®æ”¹MySQLå­—ç¬¦é›†ï¼Œä½¿å…¶æ”¯æŒä¸­æ–‡ğŸ‡¨ğŸ‡³</h4>
<pre><code>#æ˜¾ç¤ºå­—ç¬¦é›†å˜é‡
show variables like '%character%';
</code></pre>
<figure data-type="image" tabindex="7"><img src="https://Yanoona.github.io/post-images/1582081808778.png" alt="" loading="lazy"></figure>
<p>é€€å‡ºMySQLï¼Œç¼–è¾‘MySQLé…ç½®æ–‡ä»¶<strong>my.cnf</strong>ï¼Œå¹¶åœ¨æ–‡ä»¶ä¸­æ·»åŠ ğŸ‘‡ğŸ‘‡è¡Œã€‚æ–‡ä»¶è·¯å¾„åœ¨ï¼š<code>/etc/my.cnf</code>ã€‚</p>
<pre><code>#åœ¨[mysqld]ä¸­æ·»åŠ 
character-set-server=utf8
#åœ¨[client]ä¸­æ·»åŠ ,æ²¡æœ‰æ­¤è¡Œè¯·è‡ªå·±æ·»åŠ 
default-character-set=utf8
#åœ¨[mysql]ä¸­æ·»åŠ ,æ²¡æœ‰æ­¤è¡Œè¯·è‡ªå·±æ·»åŠ 
default-character-set=utf8
</code></pre>
<p>ä¿å­˜åï¼Œå†é‡å¯MySQLæœåŠ¡ç™»å½•MySQLæŸ¥çœ‹ğŸ‘€å­—ç¬¦é›†æ˜¯å¦å…¨ä¸ºutf8ã€‚</p>
<figure data-type="image" tabindex="8"><img src="https://Yanoona.github.io/post-images/1582081817742.png" alt="" loading="lazy"></figure>
]]></content>
    </entry>
</feed>