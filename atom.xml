<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://Yanoona.github.io</id>
    <title>å§¿åŠ¿ç¾å¦‚ç”»( *ãƒ»Ï‰ãƒ»)âœ„â•°ã²â•¯</title>
    <updated>2020-02-20T01:11:24.313Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://Yanoona.github.io"/>
    <link rel="self" href="https://Yanoona.github.io/atom.xml"/>
    <subtitle>å¤§çˆ·ä¸è¿›æ¥çœ‹çœ‹å—ï¼Ÿè¿™é‡Œæœ‰å¥½åº·çš„å“¦~~~</subtitle>
    <logo>https://Yanoona.github.io/images/avatar.png</logo>
    <icon>https://Yanoona.github.io/favicon.ico</icon>
    <rights>All rights reserved 2020, å§¿åŠ¿ç¾å¦‚ç”»( *ãƒ»Ï‰ãƒ»)âœ„â•°ã²â•¯</rights>
    <entry>
        <title type="html"><![CDATA[Sqoopçš„å®‰è£…å’Œä½¿ç”¨]]></title>
        <id>https://Yanoona.github.io/vqAakgQmf/</id>
        <link href="https://Yanoona.github.io/vqAakgQmf/">
        </link>
        <updated>2020-02-19T07:27:57.000Z</updated>
        <summary type="html"><![CDATA[<h2 id="æ¦‚è¿°">ğŸ˜€æ¦‚è¿°</h2>
<p>Sqoop æ˜¯ apache æ——ä¸‹ä¸€æ¬¾â€œHadoop å’Œå…³ç³»æ•°æ®åº“æœåŠ¡å™¨ä¹‹é—´ä¼ é€æ•°æ®â€çš„å·¥å…·ã€‚<br>
æ ¸å¿ƒçš„åŠŸèƒ½æœ‰ä¸¤ä¸ªï¼šå¯¼å…¥ã€å¯¼å‡º<br>
æœ¬æ–‡æ¡£ç”¨äºè®°å½• Sqoopçš„å®‰è£…å’Œä½¿ç”¨ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<h2 id="æ¦‚è¿°">ğŸ˜€æ¦‚è¿°</h2>
<p>Sqoop æ˜¯ apache æ——ä¸‹ä¸€æ¬¾â€œHadoop å’Œå…³ç³»æ•°æ®åº“æœåŠ¡å™¨ä¹‹é—´ä¼ é€æ•°æ®â€çš„å·¥å…·ã€‚<br>
æ ¸å¿ƒçš„åŠŸèƒ½æœ‰ä¸¤ä¸ªï¼šå¯¼å…¥ã€å¯¼å‡º<br>
æœ¬æ–‡æ¡£ç”¨äºè®°å½• Sqoopçš„å®‰è£…å’Œä½¿ç”¨ã€‚</p>
<!-- more -->
<blockquote>
<p>å»ºè®®ğŸ—£<code>å…ˆé…ç½®å¥½Hadoopçš„JobHistoryèŠ‚ç‚¹</code>ï¼Œä»¥ä¾¿äºåœ¨Webä¸­çš„Yarnç•Œé¢æŸ¥çœ‹MapReduceä»»åŠ¡æ—¥å¿—ä¿¡æ¯ã€‚</p>
</blockquote>
<h2 id="sqoopå®‰è£…">ğŸ˜ƒSqoopå®‰è£…</h2>
<h3 id="1å‰ææ¦‚è¿°">1.å‰ææ¦‚è¿°</h3>
<blockquote>
<ul>
<li><strong>Sqoopå°±æ˜¯ä¸€ä¸ªå·¥å…·ï¼Œ åªéœ€è¦åœ¨ä¸€ä¸ªèŠ‚ç‚¹ä¸Šè¿›è¡Œå®‰è£…å³å¯ã€‚</strong></li>
</ul>
<ul>
<li><strong>ä½ å®‰è£…çš„Sqoopè½¯ä»¶çš„èŠ‚ç‚¹ä¸€å®šè¦åŒ…å«ä½ è¦ä½¿ç”¨çš„é›†ç¾¤æˆ–è€…è½¯ä»¶ç³»ç»Ÿçš„å®‰è£…åŒ…</strong></li>
</ul>
</blockquote>
<h3 id="2-è½¯ä»¶ä¸‹è½½">2. è½¯ä»¶ä¸‹è½½</h3>
<p>ä¸‹è½½åœ°å€ï¼šâš¡ï¸<a href="http://mirrors.hust.edu.cn/apache/sqoop/">ç‚¹å‡»æ­¤å¤„æ‰“å¼€Sqoopä¸‹è½½é“¾æ¥</a>âš¡ï¸</p>
<blockquote>
<p>æ³¨æ„ğŸ‘‡ï¼š</p>
<ol>
<li>
<p>ä¸‹è½½<code>sqoop-xx.bin__xx.tar.gz</code>çš„å®‰è£…å‹ç¼©åŒ…ã€‚</p>
</li>
<li>
<p>Sqoop 1 å’ŒSqoop 2ä¸å…¼å®¹ï¼Œä¸”ç»å¤§éƒ¨åˆ†ä¼ä¸šæ‰€ä½¿ç”¨çš„Sqoopçš„ç‰ˆæœ¬æ˜¯ Sqoop 1ã€‚</p>
<p>â€‹	1.4.7ç‰ˆæœ¬çš„ä¸ºSqoop 1</p>
<p>â€‹	1.99.7ç‰ˆæœ¬çš„ä¸ºSqoop 2</p>
</li>
</ol>
</blockquote>
<h2 id="å®‰è£…">ğŸ˜„å®‰è£…</h2>
<h3 id="1åˆ›å»ºsqoopå®‰è£…ç›®å½•">1.åˆ›å»ºsqoopå®‰è£…ç›®å½•</h3>
<pre><code>mkdir /usr/local/sqoop
</code></pre>
<h3 id="2è§£å‹å®‰è£…åŒ…åˆ°æŒ‡å®šç›®å½•">2.è§£å‹å®‰è£…åŒ…åˆ°æŒ‡å®šç›®å½•</h3>
<p>ä¸Šä¼ â˜ï¸è§£å‹ç¼©å®‰è£…åŒ…åˆ°æŒ‡å®šç›®å½•ï¼ˆæ­¤å¤„è·³è¿‡äº†Ftpä¼ è¾“æ­¥éª¤ï¼‰ã€‚</p>
<p>å› ä¸ºä¹‹å‰hiveåªæ˜¯å®‰è£…åœ¨hadoop1æœºå™¨ä¸Šï¼Œæ‰€ä»¥æˆ‘è¿™é‡ŒSqoopä¹ŸåŒæ ·å®‰è£…åœ¨hadoop1æœºå™¨ä¸Šã€‚ğŸ‘‹</p>
<pre><code>tar -zxvf sqoop-1.4.7.bin__hadoop-2.6.0.tar.gz /usr/local/sqoop
</code></pre>
<h3 id="3ä¿®æ”¹é…ç½®æ–‡ä»¶">3.ä¿®æ”¹é…ç½®æ–‡ä»¶</h3>
<ol>
<li>
<p>è¿›å…¥åˆ° conf æ–‡ä»¶å¤¹ä¸­ï¼Œå¤åˆ¶sqoop-env-template.shï¼Œå¹¶å°†å…¶ä¿®æ”¹ä¸ºsqoop-env.sh</p>
<pre><code>cp sqoop-env-template.sh sqoop-env.sh
</code></pre>
</li>
<li>
<p>ä¿®æ”¹sqoop-env.sh</p>
<pre><code>vi sqoop-env.sh
</code></pre>
<pre><code>export HADOOP_MAPRED_HOME=/usr/local/hadoop/hadoop-2.9.2			#Hadoopçš„MapReduceå®‰è£…è·¯å¾„
export HADOOP_COMMON_HOME=/usr/local/hadoop/hadoop-2.9.2			#Hadoopçš„Commonå®‰è£…è·¯å¾„
export HIVE_HOME=/usr/local/hive/hive							  #Hiveå®‰è£…è·¯å¾„
</code></pre>
<p>ğŸ™„ä¸ºä»€ä¹ˆåœ¨sqoop-env.sh æ–‡ä»¶ä¸­ä¼šè¦æ±‚åˆ†åˆ«è¿›è¡Œ commonå’Œmapreduceçš„é…ç½®å‘¢ï¼Ÿï¼Ÿï¼Ÿ</p>
<blockquote>
<p>ğŸ™‹åœ¨apacheçš„hadoopçš„å®‰è£…ä¸­ï¼›å››å¤§ç»„ä»¶éƒ½æ˜¯å®‰è£…åœ¨åŒä¸€ä¸ªhadoop_homeä¸­çš„</p>
<p>ğŸ™‹â€â™‚ä½†æ˜¯åœ¨CDH, HDPä¸­ï¼Œ è¿™äº›ç»„ä»¶éƒ½æ˜¯å¯é€‰çš„ã€‚</p>
<p>ğŸ™‹åœ¨å®‰è£…hadoopçš„æ—¶å€™ï¼Œå¯ä»¥é€‰æ‹©æ€§çš„åªå®‰è£…HDFSæˆ–è€…YARNï¼Œ</p>
<p>ğŸ™‹â€â™‚CDH,HDPåœ¨å®‰è£…hadoopçš„æ—¶å€™ï¼Œä¼šæŠŠHDFSå’ŒMapReduceæœ‰å¯èƒ½åˆ†åˆ«å®‰è£…åœ¨ä¸åŒçš„åœ°æ–¹ã€‚</p>
</blockquote>
</li>
<li>
<p>å°†Mysqlé©±åŠ¨åŒ…æ”¾åˆ° lib æ–‡ä»¶å¤¹ä¸‹</p>
<pre><code>cp mysql-connector-java-5.1.48-bin.jar /usr/local/sqoop/sqoop-1.4.7/lib/
</code></pre>
</li>
<li>
<p>é…ç½®ç¯å¢ƒå˜é‡</p>
<pre><code>vi /etc/profile
</code></pre>
<pre><code>#åœ¨æœ«å°¾å¤„æ·»åŠ ä»¥ä¸‹è¡Œ
export SQOOP_HOME=/usr/local/sqoop/sqoop-1.4.7
export PATH=${PATH}:${SQOOP_HOME}/bin
</code></pre>
<pre><code>#ä½¿æ–‡ä»¶ç”Ÿæ•ˆ
source /etc/profile
</code></pre>
</li>
<li>
<p>éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸğŸ‘¨â€ğŸ”§</p>
<pre><code>sqoop version
</code></pre>
</li>
</ol>
<h2 id="sqoopçš„åŸºæœ¬å‘½ä»¤">ğŸ˜Sqoopçš„åŸºæœ¬å‘½ä»¤</h2>
<pre><code>#æŸ¥çœ‹å‘½ä»¤
sqoop help

#è¿è¡Œç»“æœï¼š
usage: sqoop COMMAND [ARGS]

Available commands:
							#ç”Ÿæˆä¸æ•°æ®åº“è®°å½•äº¤äº’çš„ä»£ç 
  codegen            Generate code to interact with database records
  							#å°†è¡¨å®šä¹‰å¯¼å…¥åˆ°Hiveä¸­
  create-hive-table  Import a table definition into Hive
  							#è®¡ç®—ä¸€ä¸ªSQLè¯­å¥å¹¶æ˜¾ç¤ºç»“æœï¼Œå¯ä»¥ç”¨æ¥æ ¡éªŒä¸‹importçš„æŸ¥è¯¢æ¡ä»¶æ˜¯å¦æ­£ç¡®ã€‚
  eval               Evaluate a SQL statement and display the results
  							#å°†HDFSç›®å½•å¯¼å‡ºåˆ°æ•°æ®åº“è¡¨
  export             Export an HDFS directory to a database table
  							#å¯ç”¨å‘½ä»¤åˆ—è¡¨
  help               List available commands
  							#å°†è¡¨ä»æ•°æ®åº“å¯¼å…¥åˆ°HDFS
  import             Import a table from a database to HDFS
  							#å°†æ‰€æœ‰è¡¨ä»æ•°æ®åº“å¯¼å…¥åˆ°HDFS
  import-all-tables  Import tables from a database to HDFS
  							#ä»å¤§å‹æœºæœåŠ¡å™¨å¯¼å…¥æ•°æ®é›†åˆ°HDFS
  import-mainframe   Import datasets from a mainframe server to HDFS
  							#å°†Importä»»åŠ¡ä¿å­˜ä¸ºjobï¼Œå¯ä»¥ç†è§£ä¸ºèµ·äº†ä¸ªåˆ«åï¼Œè¿™æ ·æ–¹ä¾¿çš„Sqoopä»»åŠ¡çš„ç®¡ç†ã€‚
  job                Work with saved jobs
  							#åˆ—å‡ºæœåŠ¡å™¨ä¸Šå¯ç”¨çš„æ•°æ®åº“
  list-databases     List available databases on a server
  							#åˆ—å‡ºæ•°æ®åº“ä¸Šå¯ç”¨çš„bè¡¨
  list-tables        List available tables in a database
  							#å¢é‡å¯¼å…¥çš„åˆå¹¶ç»“æœ
  merge              Merge results of incremental imports
  							#è¿è¡Œä¸€ä¸ªç‹¬ç«‹çš„Sqoop metastore
  metastore          Run a standalone Sqoop metastore
  							#æ˜¾ç¤ºsqoopçš„ç‰ˆæœ¬
  version            Display version information

See 'sqoop help COMMAND' for information on a specific command.

</code></pre>
<h2 id="sqoopçš„åŸºæœ¬ä½¿ç”¨">ğŸ˜†Sqoopçš„åŸºæœ¬ä½¿ç”¨</h2>
<blockquote>
<p><strong>æ‰§è¡ŒSqoopå‘½ä»¤æ—¶ï¼Œè¯·ç™»å½•å¯¹hadoopæœ‰æ“ä½œæƒé™çš„ç³»ç»Ÿç”¨æˆ·ğŸ¤´ï¼Œå¦åˆ™ä¼šæŠ¥æ²¡æœ‰æƒé™ç­‰é”™è¯¯ã€‚</strong></p>
<p>ä»¥ä¸‹å‘½ä»¤ä¸­å‡ºç°çš„<code>\</code>ä¸ºè¿æ¥ç¬¦ï¼Œè¿æ¥ä¸‹ä¸€å¥å‘½ä»¤ï¼Œåœ¨å®é™…æ“ä½œä¸­ä¹Ÿå¯ä½¿ç”¨ã€‚</p>
</blockquote>
<hr>
<h4 id="åˆ—å‡ºmysqlä¸­æœ‰å“ªäº›æ•°æ®åº“">åˆ—å‡ºMysqlä¸­æœ‰å“ªäº›æ•°æ®åº“</h4>
<pre><code>sqoop list-databases \
-connect jdbc:mysql://localhost:3306/ \
-username root \
-password root
</code></pre>
<hr>
<h4 id="åˆ—å‡ºmysqlä¸­æŒ‡å®šæ•°æ®åº“çš„è¡¨">åˆ—å‡ºMysqlä¸­æŒ‡å®šæ•°æ®åº“çš„è¡¨</h4>
<pre><code>sqoop list-tables \
-connect jdbc:mysql://localhost:3306/sqoop_test \
-username root \
-password root
</code></pre>
<hr>
<h4 id="åˆ›å»ºä¸€å¼ è·Ÿsqoop_teståº“ä¸­userè¡¨ç»“æ„ä¸€æ ·çš„hiveè¡¨hive_user">åˆ›å»ºä¸€å¼ è·Ÿsqoop_teståº“ä¸­userè¡¨ç»“æ„ä¸€æ ·çš„hiveè¡¨hive_user</h4>
<blockquote>
<p>æ­¤å¤„éœ€è¦å°† hive ä¸­çš„<code>hive-common-2.3.6.jar</code>åŒ…å¤åˆ¶åˆ° sqoop çš„ lib æ–‡ä»¶å¤¹ä¸‹ï¼Œå¦åˆ™ä¼šæŠ¥ <code>java.lang.ClassNotFoundException: org.apache.hadoop.hive.conf.HiveConf</code></p>
</blockquote>
<pre><code>sqoop create-hive-table \
-connect jdbc:mysql://localhost:3306/sqoop_test \
-username root \
-password root \
-table user \
-hive-table hive_user					#è¦åˆ›å»ºçš„hiveè¡¨å
</code></pre>
<p>åˆ›å»ºå®Œåå¯ç™»å½•hiveæŸ¥çœ‹ï¼Œä»¥ä¸‹ä¸ºæ‰€æ‰§è¡Œçš„å‘½ä»¤ï¼š</p>
<pre><code>hive												#ç™»å½•Hive
show databases;								#æŸ¥çœ‹æ•°æ®åº“
use default;									#é€‰æ‹©æ•°æ®åº“,ç”±äºä¸Šé¢æ²¡æœ‰æŒ‡å®šæ•°æ®åº“ï¼Œæ‰€ä»¥åœ¨é»˜è®¤æ•°æ®åº“ä¸­åˆ›å»ºäº†è¡¨
show tables;									#åˆ—å‡ºDefaultæ•°æ®åº“ä¸­çš„æ‰€æœ‰è¡¨
</code></pre>
<hr>
<h4 id="mysqlhdfsä»mysqlå¯¼å…¥åˆ°hdfs">Mysqlâ†’HDFSï¼šä»Mysqlå¯¼å…¥åˆ°HDFS</h4>
<pre><code>sqoop import \
-connect jdbc:mysql://{æ•°æ®åº“IP}:3306/{æ•°æ®åº“}?autoReconnect=true \		  #æ•°æ®åº“è¿æ¥
-driver com.mysql.jdbc.Driver	\														#æ•°æ®åº“é©±åŠ¨
-username root	\																			#æ•°æ®åº“ç”¨æˆ·å
-password root	\																			#æ•°æ®åº“å¯†ç 
-table user	\																				#æ•°æ®åº“è¡¨
-target-dir	/user/admin/temp/sqoop-import	\										#å¯¼å…¥åˆ°HDFSçš„ç›®æ ‡ç›®å½•
-fields-terminated-by ','	\															#æŒ‰ä»€ä¹ˆåˆ†éš”
-m 1																							#MapReduceæ‰§è¡Œä»»åŠ¡æ•°
</code></pre>
<p>æ‹“å±•å‘½ä»¤ï¼ˆåœ¨å¯¼å‡ºä¸­åŒæ ·é€‚ç”¨ï¼‰ï¼š</p>
<pre><code>-where &quot;name = 'ZhangSan'&quot;																#å¸¦Whereæ¡ä»¶å¯¼å…¥
-columns &quot;name&quot; 																			#å¯¼å…¥æŒ‡å®šåˆ—
#è‡ªå®šä¹‰SqlæŸ¥è¯¢ï¼Œå¯¼å…¥æŸ¥è¯¢åæ•°æ®
-query 'select * from mysql.help_keyword where $CONDITIONS and name = &quot;STRING&quot;' 				
-split-by â€˜idâ€™																				#ä¸»é”®
-incremental  append  																	#å¢é‡å¯¼å…¥
</code></pre>
<blockquote>
<p>åœ¨éœ€è¦æŒ‰ç…§è‡ªå®šä¹‰SQLè¯­å¥å¯¼å‡ºæ•°æ®åˆ°HDFSçš„æƒ…å†µä¸‹ğŸ‘‡ğŸ‘‡ï¼š</p>
<ul>
<li>å¼•å·é—®é¢˜ï¼Œè¦ä¹ˆå¤–å±‚ä½¿ç”¨å•å¼•å·ï¼Œå†…å±‚ä½¿ç”¨åŒå¼•å·ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi><mi>O</mi><mi>N</mi><mi>D</mi><mi>I</mi><mi>T</mi><mi>I</mi><mi>O</mi><mi>N</mi><mi>S</mi><mi mathvariant="normal">çš„</mi></mrow><annotation encoding="application/x-tex">CONDITIONSçš„</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord cjk_fallback">çš„</span></span></span></span>ç¬¦å·ä¸ç”¨è½¬ä¹‰ï¼Œ è¦ä¹ˆå¤–å±‚ä½¿ç”¨åŒå¼•å·ï¼Œé‚£ä¹ˆå†…å±‚ä½¿ç”¨å•å¼•å·ï¼Œç„¶å<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi><mi>O</mi><mi>N</mi><mi>D</mi><mi>I</mi><mi>T</mi><mi>I</mi><mi>O</mi><mi>N</mi><mi>S</mi><mi mathvariant="normal">çš„</mi></mrow><annotation encoding="application/x-tex">CONDITIONSçš„</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord cjk_fallback">çš„</span></span></span></span>ç¬¦å·éœ€è¦è½¬ä¹‰ã€‚</li>
<li>è‡ªå®šä¹‰çš„SQLè¯­å¥ä¸­å¿…é¡»å¸¦æœ‰WHERE $CONDITIONS</li>
</ul>
</blockquote>
<hr>
<h4 id="hdfsmysqlä»hdfsä¸­å¯¼å‡ºåˆ°mysql">HDFSâ†’Mysqlï¼šä»HDFSä¸­å¯¼å‡ºåˆ°Mysql</h4>
<pre><code>sqoop export \
-connect jdbc:mysql://{æ•°æ®åº“IP}:3306/{æ•°æ®åº“}?autoReconnect=true \			 #æ•°æ®åº“è¿æ¥
-driver com.mysql.jdbc.Driver	\															#æ•°æ®åº“é©±åŠ¨
-username root	\																				#æ•°æ®åº“ç”¨æˆ·å
-password root	\																				#æ•°æ®åº“å¯†ç 
-table sqoop_test	\																			#æ•°æ®åº“è¡¨
-export-dir	/user/admin/temp/sqoop-import	\											#å¯¼å‡ºHDFSçš„ç›®æ ‡ç›®å½•åˆ°Mysql
-fields-terminated-by ','	\																#æŒ‰ä»€ä¹ˆåˆ†éš”
-split-by id	\																				#ä¸»é”®
-m 1																								#MapReduceæ‰§è¡Œä»»åŠ¡æ•°
</code></pre>
<blockquote>
<p>ğŸ‘¨â€ğŸ«è®°å½•é—®é¢˜ğŸ‘©â€ğŸ«ï¼š</p>
<ul>
<li>è‹¥â­ï¸æ•°æ®åº“è¿æ¥æˆ–å¯†ç å¸¦ä¸Šäº† <code>$</code> ç¬¦å·â­ï¸ï¼Œåˆ™ä¼šå¯¼è‡´åé¢è¯­æ³•æŠ¥<strong>æœªæ‰¾åˆ°å‘½ä»¤é”™è¯¯</strong>ï¼›</li>
<li>æœ‰æ—¶éœ€å¸¦ä¸Š <code>-driver</code>å‘½ä»¤ï¼Œå¦åˆ™<strong>æœ‰å¯èƒ½ä¼š</strong>å¯¼è‡´å‡ºç°æ•°æ®åº“è¿æ¥å¤±è´¥é”™è¯¯ï¼›</li>
<li>å¦‚æœMysqlä¸º8.0çš„ç‰ˆæœ¬ï¼Œéœ€è¦æ›´æ”¹ä¸º8.0é©±åŠ¨åŒ…ï¼š<code>com.mysql.cj.jdbc.Driver</code></li>
<li>æ‰§è¡Œå‘½ä»¤æ—¶å¿…é¡»å¸¦ä¸Š<code>-split-by</code>æˆ–è€…<code>-m 1</code>å‘½ä»¤ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼›</li>
<li><code>-fields-terminated-by</code>å‘½ä»¤è¡¨ç¤º <strong>æ•°æ®åº“ä¸­çš„åˆ—åœ¨å¯¼å…¥æ–‡æœ¬ä¸­æŒ‰ç…§ä»€ä¹ˆå­—ç¬¦åˆ†éš”</strong>ï¼Œå¦‚ä¸Šé¢ä¾‹å­ä¸­çš„ <strong>ï¼Œ</strong>;</li>
</ul>
</blockquote>
<hr>
<h4 id="mysqlhiveä»mysqlå¯¼å…¥åˆ°hiveä¸­">Mysqlâ†’Hiveï¼šä»Mysqlå¯¼å…¥åˆ°Hiveä¸­</h4>
<blockquote>
<p><strong>å¯¼å…¥è¿‡ç¨‹ï¼šå…ˆå¯¼å…¥åˆ° hdfsï¼Œç„¶åå† load è¿›å…¥ hiveğŸ˜Š</strong></p>
<p><strong>æ™®é€šå¯¼å…¥ï¼šæ•°æ®å­˜å‚¨åœ¨Hiveé»˜è®¤çš„defaultåº“ä¸­ï¼Œè¡¨åå°±æ˜¯å¯¹åº”çš„mysqlçš„è¡¨åï¼šğŸ˜œ</strong></p>
</blockquote>
<pre><code>sqoop import   \
--connect jdbc:mysql://localhost:3306/sqoop_test   \			#æ•°æ®åº“è¿æ¥
--username root  \														#æ•°æ®åº“ç”¨æˆ·å
--password root   \														#æ•°æ®åº“å¯†ç 
--table user   \															#æ•°æ®åº“è¡¨
--hive-import \															#å¯¼å…¥è·¯å¾„
-m 1																			#ä»»åŠ¡å¹¶å‘æ•°
</code></pre>
<p>æŸ¥çœ‹ Hive ä¸­çš„æ•°æ®</p>
<pre><code>hadoop fs -cat /user/hive/warehouse/user/part-m-00000			#userå°±æ˜¯è¡¨å
</code></pre>
<p>æ‹“å±•å‘½ä»¤ï¼š</p>
<pre><code>-fields-terminated-by &quot;ï¼Œ&quot;  									#æ•°æ®æŒ‰ä»€ä¹ˆåˆ†éš”
-lines-terminated-by &quot;\n&quot;  									#è¡Œæ•°æŒ‰ä»€ä¹ˆåˆ†éš”
-hive-overwrite 													#æŒ‡å®šè¦†ç›–å¯¼å…¥
-create-hive-table  												#æŒ‡å®šè‡ªåŠ¨åˆ›å»ºhiveè¡¨
-delete-target-dir 												#æŒ‡å®šåˆ é™¤ä¸­é—´ç»“æœæ•°æ®ç›®å½•
-hive-database  mydb_test 										#æŒ‡å®šHiveæ•°æ®åº“
-hive-table new_user												#æŒ‡å®šè¡¨å
-incremental  append  											#å¢é‡å¯¼å…¥
</code></pre>
<blockquote>
<p>å½“æŒ‡å®šHiveæ•°æ®åº“æ—¶ï¼Œå¿…é¡»å…ˆåˆ›å»ºè¯¥æ•°æ®åº“ï¼Œå¦åˆ™ä¼šæŠ¥<code>Database does not exist: xx</code>æ•°æ®åº“ä¸å­˜åœ¨ğŸŒˆã€‚</p>
<p>âš¡ï¸**ä»Hiveå¯¼å‡ºåˆ°Mysqlçš„æ­¥éª¤ å’Œ ä»HDFSå¯¼å‡ºåˆ°Mysqlçš„æ­¥éª¤ ä¸€è‡´ã€‚**âš¡ï¸</p>
</blockquote>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Hadoopåˆ°Mysqlçš„æ•°æ®ä¼ è¾“è®°å½•]]></title>
        <id>https://Yanoona.github.io/NNC7-_gM_/</id>
        <link href="https://Yanoona.github.io/NNC7-_gM_/">
        </link>
        <updated>2020-02-19T06:11:24.000Z</updated>
        <summary type="html"><![CDATA[<h2 id="æ¦‚è¿°">æ¦‚è¿°</h2>
<p>æœ¬æ–‡æ¡£ä¸»è¦è®°å½•ä½¿ç”¨ <code>HIve Load</code> å°† <code>Hadoop</code> ä¸­çš„æ–‡ä»¶ä¿å­˜åˆ° <code>HIve</code> çš„æ•°æ®åº“ä¸­ï¼Œå†å°†å…¶é€šè¿‡ <code>Sqoop export</code> åˆ° <code>Mysql</code> çš„è¯¦ç»†æ­¥éª¤ğŸ™Šï¼›</p>
]]></summary>
        <content type="html"><![CDATA[<h2 id="æ¦‚è¿°">æ¦‚è¿°</h2>
<p>æœ¬æ–‡æ¡£ä¸»è¦è®°å½•ä½¿ç”¨ <code>HIve Load</code> å°† <code>Hadoop</code> ä¸­çš„æ–‡ä»¶ä¿å­˜åˆ° <code>HIve</code> çš„æ•°æ®åº“ä¸­ï¼Œå†å°†å…¶é€šè¿‡ <code>Sqoop export</code> åˆ° <code>Mysql</code> çš„è¯¦ç»†æ­¥éª¤ğŸ™Šï¼›</p>
<!-- more -->
<h2 id="ç¯å¢ƒåŠæµ‹è¯•æ•°æ®è¯´æ˜">ç¯å¢ƒåŠæµ‹è¯•æ•°æ®è¯´æ˜</h2>
<ul>
<li>Hadoop - 2.9.2</li>
<li>CentOS 7.9</li>
<li>Hive 2.3.9</li>
<li>Mysql 8.0</li>
<li>Sqoop 1.4.7</li>
<li>zy_fy_detail        659MB          5,691,514è¡Œ</li>
<li>zy_fy_year          512KB           4,656è¡Œ</li>
<li>zy_fy_yearmonth           59.59MB           516,883è¡Œ</li>
<li>ä»¥ä¸Šè¡¨çš„æ–‡æœ¬é—´éš”ç¬¦ä¸º <code>\001</code></li>
</ul>
<h2 id="å¼€å§‹">å¼€å§‹</h2>
<h3 id="ç¡®è®¤æµ‹è¯•ç¯å¢ƒ">ç¡®è®¤æµ‹è¯•ç¯å¢ƒ</h3>
<ul>
<li>ğŸŒ•ä½¿ç”¨<code>jps</code>æŸ¥çœ‹ Hadoop é›†ç¾¤æ˜¯å¦æ­£å¸¸å¯åŠ¨ï¼ˆåŒ…æ‹¬<code>jobhistory</code>ï¼‰</li>
<li>ğŸŒ–ä½¿ç”¨<code>systemctl status mysqld</code>æŸ¥çœ‹<code>Mysql</code>æ˜¯å¦æ­£å¸¸è¿è¡Œ</li>
<li>ğŸŒ—ç¡®è®¤<code>hive</code>å·²ç»é…ç½®å¥½äº†<code>mysql</code></li>
</ul>
<hr>
<h3 id="å°†æµ‹è¯•æ•°æ®ä¸Šä¼ åˆ°hadoopä¸­">å°†æµ‹è¯•æ•°æ®ä¸Šä¼ åˆ°Hadoopä¸­</h3>
<blockquote>
<p>ä¸Šä¼ æ–‡ä»¶å¯ä»¥è‡ªå·±æ­å»ºftpæœåŠ¡å™¨å®ç°ï¼Œæˆ–è€…ä½¿ç”¨hadoopä¸­çš„ç½‘é¡µä¸Šä¼ åŠŸèƒ½ã€‚ğŸ‘ğŸ‘</p>
</blockquote>
<p><strong>æ­¤å¤„ä½¿ç”¨Hadoopä¸Šä¼ </strong>ï¼š</p>
<p>â€‹		åœ¨æµè§ˆå™¨é™¤è¾“å…¥ http://hadoop1:50070:/ï¼Œ<em>hadoop1</em>ä¸ºæˆ‘è¿™é‡Œçš„<em>NameNode</em>èŠ‚ç‚¹çš„ä¸»æœºåï¼ˆå¦‚è®¿é—®ä¸äº†ï¼Œå¯ä»¥è¯•ä¸‹æ¢æˆIPè®¿é—®ğŸ˜ï¼‰ã€‚ç‚¹å‡» <em>Browse the file system</em> è¿›å…¥ç›®å½•é¡µå¹¶å•å‡»çº¢æ¡†å¤„ä¸Šä¼ æŒ‰é’®ã€‚</p>
<figure data-type="image" tabindex="1"><img src="https://Yanoona.github.io/post-images/1582092792811.png" alt="" loading="lazy"></figure>
<p>å¦‚æœå‡ºç°ä»¥ä¸‹ç±»ä¼¼ä¿¡æ¯ğŸ™„ğŸ™„ï¼ˆå¯ä»¥ç¡®å®šæ˜¯<strong>æƒé™é—®é¢˜</strong>ï¼‰ï¼š</p>
<figure data-type="image" tabindex="2"><img src="https://Yanoona.github.io/post-images/1582092804261.png" alt="" loading="lazy"></figure>
<p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤èµ‹äºˆæƒé™åï¼Œå°±å¯ä»¥è¿›è¡Œä¸Šä¼ â˜ï¸ã€åˆ é™¤ğŸ’€ç­‰æ“ä½œï¼š</p>
<pre><code>hadoop fs -chmod 777 /user/admin/*
</code></pre>
<hr>
<h3 id="åˆ›å»ºæ¥æ”¶æ•°æ®çš„hiveæ•°æ®åº“">åˆ›å»ºæ¥æ”¶æ•°æ®çš„Hiveæ•°æ®åº“</h3>
<p><strong>ğŸ˜‹è¿›å…¥Hiveï¼Œå¹¶åˆ›å»ºæ•°æ®åº“ï¼ˆæ­¤å¤„ç¤ºä¾‹æ•°æ®åº“åï¼šbigdataï¼‰</strong></p>
<pre><code>#è¿›å…¥Hive
hive
#æ˜¾ç¤ºæ•°æ®åº“
show databases;
#åˆ›å»ºæ•°æ®åº“
create database bigdata;
#é€‰æ‹©æ•°æ®åº“
use bigdata;
</code></pre>
<p><strong>ğŸ™åˆ›å»ºå¯è¯†åˆ«å¤šä¸ªåˆ†éš”ç¬¦çš„è¡¨ï¼ˆzy_fy_yearï¼‰</strong></p>
<pre><code> CREATE TABLE `zy_fy_year` (
       `year` varchar(4),
       `SFXM` decimal(4,0),
       `FYMC` varchar(160),
       `FYDJ` decimal(10,4),
       `year_sl` decimal(32,2),
       `year_ZJJE` decimal(34,2)
     )  row format  serde 'org.apache.hadoop.hive.contrib.serde2.MultiDelimitSerDe' with  serdeproperties (&quot;field.delim&quot;=&quot;&amp;*#@&quot;);

</code></pre>
<blockquote>
<p>Hiveåœ¨0.14åŠä»¥åç‰ˆæœ¬æ”¯æŒå­—æ®µçš„å¤šåˆ†éš”ç¬¦ï¼Œå‚è€ƒğŸš€<a href="https://link.jianshu.com/?t=https%3A%2F%2Fcwiki.apache.org%2Fconfluence%2Fdisplay%2FHive%2FMultiDelimitSerDe">https://cwiki.apache.org/confluence/display/Hive/MultiDelimitSerDe</a>ğŸš€</p>
<p>å…³é”®è¯­å¥ä¸ºğŸ‘‰ï¼š<code>row format serde 'org.apache.hadoop.hive.contrib.serde2.MultiDelimitSerDe' with serdeproperties (&quot;field.delim&quot;=&quot;ä½ çš„åˆ†éš”ç¬¦&quot;);</code></p>
<p>å½“åªæœ‰ä¸€ä¸ªåˆ†éš”ç¬¦æ—¶ğŸ‘‰ï¼š<code>row format delimited fields terminated by 'åˆ†éš”ç¬¦'</code></p>
</blockquote>
<p>ğŸ˜<strong>ä½¿ç”¨Hive LoadåŠ è½½HDFSæ–‡ä»¶åˆ°è¡¨ä¸­</strong></p>
<pre><code>#æ­¤å¤„åœ°å€ä¸ºHadoopä¸­zy_fy_year.txtæ–‡ä»¶çš„åœ°å€
load data inpath '/test_data/test_files/zy_fy_year.txt' overwirte into table bigdata.zy_fy_year
#æŸ¥çœ‹æ’å…¥ç»“æœæ˜¯å¦æœ‰é”™
select * from zy_fy_year limit 0,10;
</code></pre>
<figure data-type="image" tabindex="3"><img src="https://Yanoona.github.io/post-images/1582092825986.png" alt="" loading="lazy"></figure>
<hr>
<h3 id="ä½¿ç”¨sqoopå°†hiveä¸­çš„æ•°æ®å¯¼å‡ºåˆ°mysqlä¸­">ğŸ˜‰ä½¿ç”¨Sqoopå°†Hiveä¸­çš„æ•°æ®å¯¼å‡ºåˆ°Mysqlä¸­</h3>
<p><strong>åœ¨Mysqlåˆ›å»ºå¯¼å‡ºæ•°æ®åº“ï¼ˆbigdataï¼‰å’Œè¡¨ï¼ˆzy_fy_yearï¼‰ğŸ¤—</strong></p>
<pre><code>#ç™»å½•mysql
mysql -u root -p
#åˆ›å»ºæ•°æ®åº“
create database bigdata;
#é€‰æ‹©æ•°æ®åº“
use bigdata;
#åˆ›å»ºè¡¨
create table `zy_fy_year` (
  `year` varchar(4) CHARACTER SET utf8mb4 DEFAULT NULL,
  `SFXM` decimal(4,0) NOT NULL COMMENT 'æ”¶è´¹é¡¹ç›®',
  `FYMC` varchar(160) DEFAULT NULL COMMENT 'è´¹ç”¨åç§°',
  `FYDJ` decimal(10,4) NOT NULL COMMENT 'è´¹ç”¨å•ä»·',
  `year_sl` decimal(32,2) DEFAULT NULL COMMENT 'å¹´æ±‡æ€»æ•°é‡',
  `year_ZJJE` decimal(34,2) DEFAULT NULL COMMENT 'æ€»è®¡é‡‘é¢'
) engine=InnoDB default charset=utf8;
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[CentOS 7å®‰è£…å’Œå¸è½½MySql]]></title>
        <id>https://Yanoona.github.io/TeSMMvZK8/</id>
        <link href="https://Yanoona.github.io/TeSMMvZK8/">
        </link>
        <updated>2020-02-19T03:00:11.000Z</updated>
        <summary type="html"><![CDATA[<h2 id="æ¦‚è¿°">ğŸ˜€æ¦‚è¿°</h2>
<p>è®°å½•ä¸€æ¬¡CentOS7å®‰è£…Mysql5.7çš„æ­¥éª¤å’Œå¸è½½Mysqlçš„æ­¥éª¤ã€‚</p>
<h2 id="ç¯å¢ƒè¯´æ˜">ğŸ˜ƒç¯å¢ƒè¯´æ˜</h2>
<p>æœºå™¨ç³»ç»Ÿç‰ˆæœ¬ï¼šCentOS7.9<br>
æ‰€å®‰è£…Mysqlç‰ˆæœ¬ï¼šMySql5.7</p>
]]></summary>
        <content type="html"><![CDATA[<h2 id="æ¦‚è¿°">ğŸ˜€æ¦‚è¿°</h2>
<p>è®°å½•ä¸€æ¬¡CentOS7å®‰è£…Mysql5.7çš„æ­¥éª¤å’Œå¸è½½Mysqlçš„æ­¥éª¤ã€‚</p>
<h2 id="ç¯å¢ƒè¯´æ˜">ğŸ˜ƒç¯å¢ƒè¯´æ˜</h2>
<p>æœºå™¨ç³»ç»Ÿç‰ˆæœ¬ï¼šCentOS7.9<br>
æ‰€å®‰è£…Mysqlç‰ˆæœ¬ï¼šMySql5.7</p>
<!-- more -->
<h2 id="å‡†å¤‡å®‰è£…">ğŸ˜„å‡†å¤‡å®‰è£…</h2>
<p>ç¡®ä¿æœºå™¨ä¸Šå·²å®‰è£…<code>wget</code>,å¦‚æœæ²¡æœ‰å®‰è£…è¿‡å°±ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œå®‰è£…ã€‚</p>
<pre><code>yum -y install wget
</code></pre>
<h2 id="å¼€å§‹å®‰è£…">ğŸ˜å¼€å§‹å®‰è£…</h2>
<h3 id="è¿›å…¥å®˜ç½‘å¤åˆ¶yumæº">è¿›å…¥å®˜ç½‘å¤åˆ¶yumæº</h3>
<figure data-type="image" tabindex="1"><img src="https://Yanoona.github.io/post-images/1582081400516.png" alt="" loading="lazy"></figure>
<p>ç›´æ¥ç‚¹å¼€è¿™ä¸ªåœ°å€å¹¶é€‰æ‹©ç¬¬äºŒä¸ªï¼ˆ<strong>ç¬¬ä¸€ä¸ªé‡Œé¢æ²¡æœ‰MySql5.7ç‰ˆæœ¬çš„ä¸‹è½½</strong>ï¼‰âš¡ï¸ï¼š<a href="https://dev.mysql.com/downloads/repo/yum/">https://dev.mysql.com/downloads/repo/yum/</a>âš¡ï¸</p>
<p>ç‚¹è¿›å»ä¹‹åï¼Œå³å‡»è¶…é“¾æ¥æ–‡å­—<strong>No thanks, just start my download.</strong>ï¼Œå†ç‚¹å‡»<strong>å¤åˆ¶é“¾æ¥åœ°å€</strong>å³å¯ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br>
<img src="https://Yanoona.github.io/post-images/1582081448581.png" alt="" loading="lazy"></p>
<hr>
<h3 id="ä¸‹è½½å’Œå®‰è£…yumæº">ä¸‹è½½å’Œå®‰è£…yumæº</h3>
<p>åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œä¸‹è½½å‘½ä»¤ğŸ‘‡ï¼š</p>
<pre><code>wget https://dev.mysql.com/get/mysql80-community-release-el7-3.noarch.rpm
</code></pre>
<p>è¿è¡Œåç»§ç»­è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p>
<pre><code>rpm -ivh mysql80-community-release-el7-3.noarch.rpm
</code></pre>
<hr>
<h3 id="ä¿®æ”¹yumæºé»˜è®¤å®‰è£…çš„ç‰ˆæœ¬">ä¿®æ”¹yumæºé»˜è®¤å®‰è£…çš„ç‰ˆæœ¬</h3>
<p>ğŸ‘´è¿è¡ŒæŸ¥çœ‹å¯å®‰è£…çš„mysqlçš„å‘½ä»¤ï¼š</p>
<pre><code>yum repolist all| grep mysql
</code></pre>
<figure data-type="image" tabindex="2"><img src="https://Yanoona.github.io/post-images/1582081748024.png" alt="" loading="lazy"></figure>
<p>å¯ä»¥çœ‹å‡ºé»˜è®¤æ˜¯å¯ç”¨çš„mysql8.0ï¼Œ5.7æ˜¯å…³é—­çš„ã€‚</p>
<p>æ¥ç€è¿è¡Œä¿®æ”¹yumé…ç½®âš¡ï¸ï¼ˆenabled=1 æƒ³è¦å®‰è£…å“ªä¸ªç‰ˆæœ¬å°±åœ¨å“ªä¸ªç‰ˆæœ¬çš„åé¢æŠŠ0æ¢æˆ1ï¼Œå› ä¸ºé»˜è®¤æ˜¯æœ€æ–°ç‰ˆï¼Œæ‰€ä»¥éœ€è¦æŠŠæœ€æ–°ç‰ˆçš„1æ¢æˆ0ï¼Œ5.7çš„æ¢ä¸º1ï¼‰âš¡ï¸å‘½ä»¤ï¼š</p>
<pre><code>vim /etc/yum.repos.d/mysql-community.repo
</code></pre>
<figure data-type="image" tabindex="3"><img src="https://Yanoona.github.io/post-images/1582081761005.png" alt="" loading="lazy"></figure>
<p>ä¿®æ”¹å®Œæˆåå†è¿è¡Œä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹æ˜¯å¦å·²ç»ç”Ÿæ•ˆï¼š</p>
<pre><code>yum repolist all| grep mysql
</code></pre>
<figure data-type="image" tabindex="4"><img src="https://Yanoona.github.io/post-images/1582081772383.png" alt="" loading="lazy"></figure>
<p>å¯ä»¥çœ‹åˆ°é…ç½®æ–‡ä»¶å·²ç»ç”Ÿæ•ˆï¼Œæ¥ä¸‹æ¥ä½¿ç”¨yumå®‰è£…MySqlã€‚</p>
<hr>
<h3 id="ä½¿ç”¨yumå®‰è£…mysql">ä½¿ç”¨yumå®‰è£…MySql</h3>
<p>è¿è¡Œå®‰è£…å‘½ä»¤ğŸ‘‡ï¼š</p>
<pre><code>yum install -y mysql-community-server
</code></pre>
<figure data-type="image" tabindex="5"><img src="https://Yanoona.github.io/post-images/1582081783832.png" alt="" loading="lazy"></figure>
<p><strong>ç­‰å¾…å®‰è£…å®Œæˆå³å¯ï¼ğŸ‘€</strong></p>
<h2 id="mysqlé…ç½®">ğŸ˜†MySQLé…ç½®</h2>
<h3 id="åˆå§‹é…ç½®">åˆå§‹é…ç½®</h3>
<h4 id="å¯åŠ¨mysqlæœåŠ¡">ğŸ¤”å¯åŠ¨MySQLæœåŠ¡</h4>
<pre><code>#å¯åŠ¨
systemctl start mysqld
#æŸ¥çœ‹çŠ¶æ€
systemctl status mysqld
#è®¾ç½®å¼€æœºè‡ªå¯
systemctl enable mysqld
</code></pre>
<h4 id="æŸ¥çœ‹mysqlçš„åˆå§‹å¯†ç ">ğŸ‘€æŸ¥çœ‹MySQLçš„åˆå§‹å¯†ç </h4>
<blockquote>
<p>åˆå§‹å¯†ç åªæœ‰åœ¨ç¬¬ä¸€æ¬¡å®‰è£…æˆ–è€…å®Œå…¨å¸è½½åå®‰è£…æ‰ä¼šæœ‰ã€‚</p>
</blockquote>
<pre><code>grep 'password' /var/log/mysqld.log
</code></pre>
<figure data-type="image" tabindex="6"><img src="https://Yanoona.github.io/post-images/1582081794593.png" alt="" loading="lazy"></figure>
<p>å…¶ä¸­çš„ğŸ‘‰<code>.trj4redlL!</code>ğŸ‘ˆä¸ºåˆå§‹å¯†ç ï¼Œä½¿ç”¨å…¶ç™»å½•MySQLå³å¯ã€‚</p>
<h4 id="ä¿®æ”¹åˆå§‹å¯†ç ">ä¿®æ”¹åˆå§‹å¯†ç </h4>
<blockquote>
<p>æ³¨æ„ï¼šMySQL5.7é»˜è®¤å¯†ç ç­–ç•¥è¦æ±‚å¯†ç â­ï¸å¿…é¡»æ˜¯<strong>å¤§å°å†™å­—æ¯æ•°å­—ç‰¹æ®Šå­—æ¯</strong>çš„ç»„åˆâ­ï¸ï¼Œè‡³å°‘8ä½</p>
</blockquote>
<pre><code>#ä¿®æ”¹å¯†ç 
ALTER USER 'root'@'localhost' IDENTIFIED BY 'Root123@';
</code></pre>
<h4 id="è®¾ç½®ç®€å•å¯†ç ">è®¾ç½®ç®€å•å¯†ç </h4>
<p>ä¿®æ”¹MySQLå¯†ç ç­–ç•¥ï¼Œå¹¶è®¾ç½®ç®€å•å¯†ç è¿›è¡Œè®¿é—®ğŸ™ˆğŸ™ˆã€‚</p>
<pre><code>#æŸ¥çœ‹MySQLå¯†ç ç­–ç•¥
show variables like 'validate_password%';
#è®¾ç½®å…¨å±€éªŒè¯å¯†ç ç­–ç•¥
set global validate_password_policy=low;
#è®¾ç½®å…¨å±€éªŒè¯å¯†ç æ··åˆæƒ…å†µè®¡æ•°
set global validate_password_mixed_case_count=0;
#è®¾ç½®å…¨å±€éªŒè¯å¯†ç ç‰¹æ®Šçš„å­—ç¬¦è®¡æ•°
set global validate_password_special_char_count=0;
#è®¾ç½®å…¨é›†éªŒè¯å¯†ç é•¿åº¦
set global validate_password_length=4;
</code></pre>
<p>èµ‹äºˆç”¨æˆ·æƒé™ï¼ˆè®¾ç½®å¯è¿œç¨‹è®¿é—®ğŸ¤–ï¼‰ã€‚</p>
<pre><code>grant all privileges on *.* to 'root'@'%' identified by 'root' with grant option;
</code></pre>
<p>åˆ·æ–°æƒé™ğŸ™‰ã€‚</p>
<pre><code>flush privileges;
</code></pre>
<h4 id="è®¾ç½®å¯è¿œç¨‹è®¿é—®">è®¾ç½®å¯è¿œç¨‹è®¿é—®</h4>
<p>Mysqlé»˜è®¤ä¸å…è®¸è¿œç¨‹ç™»å½•ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™é‡Œè¦è®¾ç½®ä¸€ä¸‹ğŸŒˆï¼š</p>
<pre><code>grant all privileges on *.* to 'root'@'%' identified by 'Root123@' with grant option;
</code></pre>
<hr>
<h3 id="æ‹“å±•é…ç½®">æ‹“å±•é…ç½®</h3>
<h4 id="ä¿®æ”¹mysqlå­—ç¬¦é›†ä½¿å…¶æ”¯æŒä¸­æ–‡">ä¿®æ”¹MySQLå­—ç¬¦é›†ï¼Œä½¿å…¶æ”¯æŒä¸­æ–‡ğŸ‡¨ğŸ‡³</h4>
<pre><code>#æ˜¾ç¤ºå­—ç¬¦é›†å˜é‡
show variables like '%character%';
</code></pre>
<figure data-type="image" tabindex="7"><img src="https://Yanoona.github.io/post-images/1582081808778.png" alt="" loading="lazy"></figure>
<p>é€€å‡ºMySQLï¼Œç¼–è¾‘MySQLé…ç½®æ–‡ä»¶<strong>my.cnf</strong>ï¼Œå¹¶åœ¨æ–‡ä»¶ä¸­æ·»åŠ ğŸ‘‡ğŸ‘‡è¡Œã€‚æ–‡ä»¶è·¯å¾„åœ¨ï¼š<code>/etc/my.cnf</code>ã€‚</p>
<pre><code>#åœ¨[mysqld]ä¸­æ·»åŠ 
character-set-server=utf8
#åœ¨[client]ä¸­æ·»åŠ ,æ²¡æœ‰æ­¤è¡Œè¯·è‡ªå·±æ·»åŠ 
default-character-set=utf8
#åœ¨[mysql]ä¸­æ·»åŠ ,æ²¡æœ‰æ­¤è¡Œè¯·è‡ªå·±æ·»åŠ 
default-character-set=utf8
</code></pre>
<p>ä¿å­˜åï¼Œå†é‡å¯MySQLæœåŠ¡ç™»å½•MySQLæŸ¥çœ‹ğŸ‘€å­—ç¬¦é›†æ˜¯å¦å…¨ä¸ºutf8ã€‚</p>
<figure data-type="image" tabindex="8"><img src="https://Yanoona.github.io/post-images/1582081817742.png" alt="" loading="lazy"></figure>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[CentOS 7 ä¸­æ‰€é‡è§çš„å¼‚å¸¸]]></title>
        <id>https://Yanoona.github.io/JD2fNczzi/</id>
        <link href="https://Yanoona.github.io/JD2fNczzi/">
        </link>
        <updated>2020-02-18T07:55:17.000Z</updated>
        <content type="html"><![CDATA[<h2 id="ç½‘ç»œå¼‚å¸¸">ç½‘ç»œå¼‚å¸¸</h2>
<h3 id="ä¸€-æŸ¥çœ‹ä¸åˆ°-ipv4-åœ°å€">ä¸€ã€æŸ¥çœ‹ä¸åˆ° IPV4 åœ°å€</h3>
<blockquote>
<p>ğŸ˜‰<strong>å¼‚å¸¸è¯´æ˜ï¼šä½¿ç”¨<code>ip addr</code>å‘½ä»¤æŸ¥è¯¢ IP åœ°å€æ—¶ï¼Œæ‰¾ä¸åˆ° IPV4 åœ°å€ã€‚æŸ¥è¯¢ç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</strong></p>
</blockquote>
<figure data-type="image" tabindex="1"><img src="https://Yanoona.github.io/post-images/1582012722489.png" alt="" loading="lazy"></figure>
<p>ğŸ¤“ <strong>è§£å†³æ–¹æ¡ˆï¼šç¦ç”¨NetworkManager</strong></p>
<pre><code> #åœæ­¢ç½‘ç»œç®¡ç†æœåŠ¡
 systemctl stop NetworkManager
 #ç¦æ­¢å¼€æœºè‡ªå¯
 systemctl disable NetworkManager
 #é‡å¯ç½‘ç»œæœåŠ¡
 systemctl restart network
</code></pre>
]]></content>
    </entry>
</feed>